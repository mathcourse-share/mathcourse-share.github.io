
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mathcourse-share.github.io/AI/SLAM14.html">
      
      
        <link rel="prev" href="Dive_into_Deep_Learning.html">
      
      
        <link rel="next" href="%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95.html">
      
      
      <link rel="icon" href="../assets/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>视觉SLAM十四讲 - 数学分享站</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      
  
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
    
    
  
  
  <style>:root{--md-admonition-icon--note:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M64%20480c-35.3%200-64-28.7-64-64V96c0-35.3%2028.7-64%2064-64h320c35.3%200%2064%2028.7%2064%2064v213.5c0%2017-6.7%2033.3-18.7%2045.3L322.7%20461.3c-12%2012-28.3%2018.7-45.3%2018.7zm325.5-176H296c-13.3%200-24%2010.7-24%2024v93.5z%22/%3E%3C/svg%3E');--md-admonition-icon--abstract:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M384%20512H96c-53%200-96-43-96-96V96C0%2043%2043%200%2096%200h304c26.5%200%2048%2021.5%2048%2048v288c0%2020.9-13.4%2038.7-32%2045.3V448c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032zM96%20384c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032h256v-64zm32-232c0%2013.3%2010.7%2024%2024%2024h176c13.3%200%2024-10.7%2024-24s-10.7-24-24-24H152c-13.3%200-24%2010.7-24%2024m24%2072c-13.3%200-24%2010.7-24%2024s10.7%2024%2024%2024h176c13.3%200%2024-10.7%2024-24s-10.7-24-24-24z%22/%3E%3C/svg%3E');--md-admonition-icon--info:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m-32-352a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200m-8%2064h48c13.3%200%2024%2010.7%2024%2024v88h8c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-80c-13.3%200-24-10.7-24-24s10.7-24%2024-24h24v-64h-24c-13.3%200-24-10.7-24-24s10.7-24%2024-24%22/%3E%3C/svg%3E');--md-admonition-icon--tip:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M461.2%2018.9C472.7%2024%20480%2035.4%20480%2048v416c0%2012.6-7.3%2024-18.8%2029.1s-24.8%203.2-34.3-5.1l-46.6-40.7c-43.6-38.1-98.7-60.3-156.4-63V480c0%2017.7-14.3%2032-32%2032h-32c-17.7%200-32-14.3-32-32v-96C57.3%20384%200%20326.7%200%20256s57.3-128%20128-128h84.5c61.8-.2%20121.4-22.7%20167.9-63.3L427%2024c9.4-8.3%2022.9-10.2%2034.3-5.1zM224%20320v.2c70.3%202.7%20137.8%2028.5%20192%2073.4V118.3c-54.2%2044.9-121.7%2070.7-192%2073.4z%22/%3E%3C/svg%3E');--md-admonition-icon--success:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M434.8%2070.1c14.3%2010.4%2017.5%2030.4%207.1%2044.7l-256%20352c-5.5%207.6-14%2012.3-23.4%2013.1s-18.5-2.7-25.1-9.3l-128-128c-12.5-12.5-12.5-32.8%200-45.3s32.8-12.5%2045.3%200l101.5%20101.5%20234-321.7c10.4-14.3%2030.4-17.5%2044.7-7.1z%22/%3E%3C/svg%3E');--md-admonition-icon--question:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M256%20512a256%20256%200%201%200%200-512%20256%20256%200%201%200%200%20512m0-336c-17.7%200-32%2014.3-32%2032%200%2013.3-10.7%2024-24%2024s-24-10.7-24-24c0-44.2%2035.8-80%2080-80s80%2035.8%2080%2080c0%2047.2-36%2067.2-56%2074.5v3.8c0%2013.3-10.7%2024-24%2024s-24-10.7-24-24v-8.1c0-20.5%2014.8-35.2%2030.1-40.2%206.4-2.1%2013.2-5.5%2018.2-10.3%204.3-4.2%207.7-10%207.7-19.6%200-17.7-14.3-32-32-32zm-32%20192a32%2032%200%201%201%2064%200%2032%2032%200%201%201-64%200%22/%3E%3C/svg%3E');--md-admonition-icon--warning:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M256%200c14.7%200%2028.2%208.1%2035.2%2021l216%20400c6.7%2012.4%206.4%2027.4-.8%2039.5S486.1%20480%20472%20480H40c-14.1%200-27.1-7.4-34.4-19.5s-7.5-27.1-.8-39.5l216-400c7-12.9%2020.5-21%2035.2-21m0%20168c-13.3%200-24%2010.7-24%2024v112c0%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24V192c0-13.3-10.7-24-24-24m26.7%20216a26.7%2026.7%200%201%200-53.3%200%2026.7%2026.7%200%201%200%2053.3%200%22/%3E%3C/svg%3E');--md-admonition-icon--failure:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20576%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M480-16c6.9%200%2013%204.4%2015.2%2010.9l13.5%2040.4%2040.4%2013.5C555.6%2051%20560%2057.1%20560%2064s-4.4%2013-10.9%2015.2l-40.4%2013.5-13.5%2040.4c-2.2%206.5-8.3%2010.9-15.2%2010.9s-13-4.4-15.2-10.9l-13.5-40.4-40.4-13.5C404.4%2077%20400%2070.9%20400%2064s4.4-13%2010.9-15.2l40.4-13.5%2013.5-40.4C467-11.6%20473.1-16%20480-16M321.4%2097.4c12.5-12.5%2032.8-12.5%2045.3%200l80%2080c12.5%2012.5%2012.5%2032.8%200%2045.3l-10.9%2010.9c7.9%2022%2012.2%2045.7%2012.2%2070.5%200%20114.9-93.1%20208-208%20208S32%20418.9%2032%20304%20125.1%2096%20240%2096c24.7%200%2048.5%204.3%2070.5%2012.3zM144%20304c0-53%2043-96%2096-96%2013.3%200%2024-10.7%2024-24s-10.7-24-24-24c-79.5%200-144%2064.5-144%20144%200%2013.3%2010.7%2024%2024%2024s24-10.7%2024-24%22/%3E%3C/svg%3E');--md-admonition-icon--danger:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20512%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M416%20427.4c58.5-44%2096-111.6%2096-187.4C512%20107.5%20397.4%200%20256%200S0%20107.5%200%20240c0%2075.8%2037.5%20143.4%2096%20187.4V464c0%2026.5%2021.5%2048%2048%2048h32v-40c0-13.3%2010.7-24%2024-24s24%2010.7%2024%2024v40h64v-40c0-13.3%2010.7-24%2024-24s24%2010.7%2024%2024v40h32c26.5%200%2048-21.5%2048-48zM96%20256a64%2064%200%201%201%20128%200%2064%2064%200%201%201-128%200m256-64a64%2064%200%201%201%200%20128%2064%2064%200%201%201%200-128%22/%3E%3C/svg%3E');--md-admonition-icon--bug:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20640%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M352%200c0-17.7-14.3-32-32-32s-32%2014.3-32%2032v64h-96c-53%200-96%2043-96%2096v224c0%2053%2043%2096%2096%2096h256c53%200%2096-43%2096-96V160c0-53-43-96-96-96h-96zM160%20368c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24m120%200c0-13.3%2010.7-24%2024-24h32c13.3%200%2024%2010.7%2024%2024s-10.7%2024-24%2024h-32c-13.3%200-24-10.7-24-24M224%20176a48%2048%200%201%201%200%2096%2048%2048%200%201%201%200-96m144%2048a48%2048%200%201%201%2096%200%2048%2048%200%201%201-96%200m-304%200c0-17.7-14.3-32-32-32S0%20206.3%200%20224v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32zm544-32c-17.7%200-32%2014.3-32%2032v96c0%2017.7%2014.3%2032%2032%2032s32-14.3%2032-32v-96c0-17.7-14.3-32-32-32%22/%3E%3C/svg%3E');--md-admonition-icon--example:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M288%200H128c-17.7%200-32%2014.3-32%2032s14.3%2032%2032%2032v151.5L7.5%20426.3C2.6%20435%200%20444.7%200%20454.7%200%20486.4%2025.6%20512%2057.3%20512h333.4c31.6%200%2057.3-25.6%2057.3-57.3%200-10-2.6-19.8-7.5-28.4L320%20215.5V64c17.7%200%2032-14.3%2032-32S337.7%200%20320%200zm-96%20215.5V64h64v151.5c0%2011.1%202.9%2022.1%208.4%2031.8L306%20320H142l41.6-72.7c5.5-9.7%208.4-20.6%208.4-31.8%22/%3E%3C/svg%3E');--md-admonition-icon--quote:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%20448%20512%22%3E%3C%21--%21%20Font%20Awesome%20Free%207.0.0%20by%20%40fontawesome%20-%20https%3A//fontawesome.com%20License%20-%20https%3A//fontawesome.com/license/free%20%28Icons%3A%20CC%20BY%204.0%2C%20Fonts%3A%20SIL%20OFL%201.1%2C%20Code%3A%20MIT%20License%29%20Copyright%202025%20Fonticons%2C%20Inc.--%3E%3Cpath%20fill%3D%22currentColor%22%20d%3D%22M0%20216C0%20149.7%2053.7%2096%20120%2096h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064H64c-35.3%200-64-28.7-64-64zm256%200c0-66.3%2053.7-120%20120-120h8c17.7%200%2032%2014.3%2032%2032s-14.3%2032-32%2032h-8c-30.9%200-56%2025.1-56%2056v8h64c35.3%200%2064%2028.7%2064%2064v64c0%2035.3-28.7%2064-64%2064h-64c-35.3%200-64-28.7-64-64z%22/%3E%3C/svg%3E');}</style>


  
  
  
  
  <style>:root{--md-annotation-icon:url('data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cpath%20d%3D%22M22%2012a10%2010%200%200%201-10%2010A10%2010%200%200%201%202%2012%2010%2010%200%200%201%2012%202a10%2010%200%200%201%2010%2010M6%2013h8l-3.5%203.5%201.42%201.42L17.84%2012l-5.92-5.92L10.5%207.5%2014%2011H6z%22/%3E%3C/svg%3E');}</style>


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+SC:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans SC";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#slam" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="数学分享站" class="md-header__button md-logo" aria-label="数学分享站" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            数学分享站
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              视觉SLAM十四讲
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="启动暗影模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="启动暗影模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="开启日光模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="开启日光模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/mathcourse-share/mathcourse-share.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    courseshare
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="数学分享站" class="md-nav__button md-logo" aria-label="数学分享站" data-md-component="logo">
      
  <img src="../assets/logo.png" alt="logo">

    </a>
    数学分享站
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mathcourse-share/mathcourse-share.github.io" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    courseshare
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Home
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../about.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    About
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    course
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            course
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-learn%26solve-question.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    提问的智慧
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../course.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    [Protected] 暑假课程和相关作业以及错题
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blogs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Blogs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M224 24c0-13.3 10.7-24 24-24 145.8 0 264 118.2 264 264 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-119.3-96.7-216-216-216-13.3 0-24-10.7-24-24M80 96c26.5 0 48 21.5 48 48v224c0 26.5 21.5 48 48 48s48-21.5 48-48-21.5-48-48-48c-8.8 0-16-7.2-16-16v-64c0-8.8 7.2-16 16-16 79.5 0 144 64.5 144 144s-64.5 144-144 144S32 447.5 32 368V144c0-26.5 21.5-48 48-48m168 0c92.8 0 168 75.2 168 168 0 13.3-10.7 24-24 24s-24-10.7-24-24c0-66.3-53.7-120-120-120-13.3 0-24-10.7-24-24s10.7-24 24-24"/></svg>
  
  <span class="md-ellipsis">
    index
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/archives.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 3h18v4H3zm1 5h16v13H4zm5.5 3a.5.5 0 0 0-.5.5V13h6v-1.5a.5.5 0 0 0-.5-.5z"/></svg>
  
  <span class="md-ellipsis">
    Archives
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Posts
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Posts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/24-12-29.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    工作规律
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/24-12-30.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    信息
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/25-01-20.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    近期的一些想法
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/FreeSplatter%20%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FreeSplatter 代码解读
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/Gaussian_Splatting_Code.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gaussian_Splatting_Code
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/Gaussian_Splatting_%E5%A4%8D%E7%8E%B0.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Gaussian Splatting 复现
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/OCRN.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Beyond Object Recognition: A New Benchmark towards Object Concept Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/ULIP-2.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ULIP-2: Towards Scalable Multimodal Pre-training for 3D Understanding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/%E7%94%A8AI%E5%90%8E%E7%9A%84%E9%97%AE%E9%A2%98.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    一些 AI 与个人学习的思考
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Blogs/posts/notes_software.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    笔记软件选择
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Summaries
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Summaries
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 1h2v2h8V1h2v2h1a2 2 0 0 1 2 2v14c0 1.11-.89 2-2 2H5a2 2 0 0 1-2-2V5c0-1.11.89-2 2-2h1zM5 8v11h14V8zm2 2h10v2H7z"/></svg>
  
  <span class="md-ellipsis">
    Summaries
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Weekly
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            Weekly
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2024
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            2024
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W44-10.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W45-11.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W46-11.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W47-11.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W48-11.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W49-12.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W50-12.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W51-12.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024-W51-12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2024/weekly/2024-W52-12.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024-W52-12
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    2025
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            2025
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2025/weekly/2025-W01-12.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025-W01-12
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2025/weekly/2025-W02-01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025-W02-01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2025/weekly/2025-W03-01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025-W03-01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2025/weekly/2025-W04-01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025-W04-01
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/2025/weekly/2025-W05-01.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2025-W05-01
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Semesters
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Semesters
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/Semesters/202409-10.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/Semesters/2024_1_1.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    None
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Summaries/Semesters/2024summer_vacation.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2024年高三-大一暑假总结
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Computer Basic
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Computer Basic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>
  
  <span class="md-ellipsis">
    Computer Science Basic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/15-213/CSAPP.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CSAPP
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    C++
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            C++
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/C%2B%2B/Accelerated%20C%2B%2B.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Accelerated C++
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/C%2B%2B/C%2B%2B%20Basic.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    C++
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CS61
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            CS61
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/CS61A/CS61A.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CS61A
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/CS61A/Composing_Programs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    COMPOSING PROGRAMS
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/CS61C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E4%B8%8E%E8%AE%BE%E8%AE%A1%E7%A1%AC%E4%BB%B6%E8%BD%AF%E4%BB%B6%E6%8E%A5%E5%8F%A3.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    计算机组成与设计硬件软件接口
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Network
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Network
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../CS_Basic/Network/Security.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Security
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>
  
  <span class="md-ellipsis">
    Artificial Intelligence
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" checked>
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Basic
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            Basic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="Dive_into_Deep_Learning.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Dive into Deep Learning
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    视觉SLAM十四讲
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="SLAM14.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    视觉SLAM十四讲
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1 预备知识
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 预备知识">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 本书讲什么
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 如何使用本书
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 如何使用本书">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 组织方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 代码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.3 面向的读者
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 风格约定
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 致谢和声明
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2 初识 SLAM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 初识 SLAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 引子: 小萝卜的例子
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 经典视觉 SLAM 框架
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 经典视觉 SLAM 框架">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 视觉里程计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 后端优化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 回环检测
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.4 建图
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 SLAM 问题的数学表述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 实践: 编程基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 实践: 编程基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-linux" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 安装 Linux 操作系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242-hello-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 Hello SLAM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#243-cmake" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.3 使用 cmake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#244" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.4 使用库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#245-ide" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.5 使用 IDE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 三维空间刚体运动
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 三维空间刚体运动">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 旋转矩阵
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 旋转矩阵">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 点、向量和坐标系
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 坐标系间的欧式变换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3 变换矩阵与齐次坐标
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-eigen" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 实践:Eigen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 旋转向量和欧拉角
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 旋转向量和欧拉角">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 旋转向量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2 欧拉角
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 四元数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 四元数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 四元数的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 四元数的运算
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 用四元数表示旋转
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 四元数到其他旋转表示的转换
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 相似、仿射、射影变换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-eigen" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 实践: Eigen 几何模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 实践: Eigen 几何模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-eigen" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 Eigen 几何模块的数据演示
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 实际的坐标变换例子
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 可视化演示
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7 可视化演示">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#371" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.1 显示运动轨迹
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#372" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.2 显示相机的位姿
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4 李群和李代数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 李群和李代数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 李群和李代数基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 李群和李代数基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1 群
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#412" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.2 李代数的引出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#413" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3 李代数的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#414-displaystyle-mathfrakso3" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.4 李代数 \(\displaystyle \mathfrak{so}(3)\)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#415-displaystyle-mathfrakse3" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.5 李代数 \(\displaystyle \mathfrak{se}(3)\)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 指数与对数映射
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 指数与对数映射">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-so3" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 SO(3)上的指数映射
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-se-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 SE (3) 上的指数映射
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 李代数求导与扰动模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 李代数求导与扰动模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-bch" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 BCH 公式与近似形式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-so-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 SO (3) 上的李代数求导
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 李代数求导
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 李代数求导">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1 扰动模型（左乘）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#442-se-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.2 SE (3) 上的李代数求导
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-sophus" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 实践:Sophus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 实践:Sophus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#451-sophus" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.1 Sophus 的基本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#452" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.2 例子: 评估轨迹的误差
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 相似变换与李代数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" class="md-nav__link">
    <span class="md-ellipsis">
      4.7 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5 相机与图像
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 相机与图像">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 相机模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 相机模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 针孔相机模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.2 畸变模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.3 双目相机模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#514-rgb-d" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.4 RGB-D 相机模型
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 图像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 实践: 计算机中的图像
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 实践: 计算机中的图像">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-opencv" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 OpenCV 的基本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 图像去畸变
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-3-d" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 实践: 3 D 视觉
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 实践: 3 D 视觉">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541" class="md-nav__link">
    <span class="md-ellipsis">
      5.4.1 双目视觉
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#542-rgb-d" class="md-nav__link">
    <span class="md-ellipsis">
      5.4.2 RGB-D 视觉
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6 非线性优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6 非线性优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 状态估计问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1 状态估计问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#611" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.1 批量状态估计与最大后验估计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.2 最小二乘的引出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#613" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.3 例子: 批量状态估计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 非线性最小二乘
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.2 非线性最小二乘">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#621" class="md-nav__link">
    <span class="md-ellipsis">
      6.2.1 一阶和二阶梯度法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#622" class="md-nav__link">
    <span class="md-ellipsis">
      6.2.2 高斯牛顿法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#623" class="md-nav__link">
    <span class="md-ellipsis">
      6.2.3 列文伯格——马夸尔特方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 实践: 曲线拟合问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.3 实践: 曲线拟合问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#631" class="md-nav__link">
    <span class="md-ellipsis">
      6.3.1 手写高斯牛顿法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#632-ceres" class="md-nav__link">
    <span class="md-ellipsis">
      6.3.2 使用 Ceres 进行曲线拟合
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#633-g2o" class="md-nav__link">
    <span class="md-ellipsis">
      6.3.3 使用 g2o进行曲线拟合
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-1" class="md-nav__link">
    <span class="md-ellipsis">
      7 视觉里程计 1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7 视觉里程计 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 特征点法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1 特征点法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#711" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.1 特征点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#712-orb" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.2 ORB 特征
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#713" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.3 特征匹配
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 实践: 特征提取和匹配
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 实践: 特征提取和匹配">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721-opencv-orb" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1 OpenCV 的 ORB 特征
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#722-orb" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2 手写 ORB 特征
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#723" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.3 计算相机运动
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-d-2-d" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 D-2 D: 对极几何
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 D-2 D: 对极几何">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1 对极约束
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#732" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.2 本质矩阵
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#733" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.3 单应矩阵
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-2" class="md-nav__link">
    <span class="md-ellipsis">
      8 视觉里程计 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8 视觉里程计 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 直接法的引出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-d" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 D 光流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-lk" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 实践: LK 光流
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3 实践: LK 光流">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831-lk" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1 使用 LK 光流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#832" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.2 用高斯牛顿法实现光流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#833" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3 光流实践小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 直接法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4 直接法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#841" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.1 直接法的推导
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#842" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.2 直接法的讨论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 实践: 直接法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5 实践: 直接法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#851" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1 单层直接法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#852" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2 多层直接法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#853" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3 结果讨论
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#854" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4 直接法优缺点总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-1" class="md-nav__link">
    <span class="md-ellipsis">
      9 后端 1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9 后端 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1 概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#911" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1 状态估计的概率解释
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#912-kf" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.2 线性系统和 KF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#913-ekf" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.3 非线性系统和 EKF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#914-ekf" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.4 EKF 的讨论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 BA 与图优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2 BA 与图优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#921-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1 投影模型和 BA 代价函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#922-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2 BA 的求解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3 稀疏性和边缘化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#924" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.4 鲁棒核函数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-ceres-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 实践: Ceres BA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.3 实践: Ceres BA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-bal" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.1 BAL 数据集
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-ceres-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.2 Ceres BA 的书写
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-g-2-o-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 实践: g 2 o 求解 BA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95" class="md-nav__link">
    <span class="md-ellipsis">
      9.5 小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-2" class="md-nav__link">
    <span class="md-ellipsis">
      10 后端 2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11_1" class="md-nav__link">
    <span class="md-ellipsis">
      11 回环检测
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12_1" class="md-nav__link">
    <span class="md-ellipsis">
      12 建图
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-slam" class="md-nav__link">
    <span class="md-ellipsis">
      13 实践: 设计 SLAM 系统
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-slam" class="md-nav__link">
    <span class="md-ellipsis">
      14 SLAM: 现在与未来
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%B9%A0%E6%96%B9%E6%B3%95.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    统计学习方法
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_3" >
        
          
          <label class="md-nav__link" for="__nav_6_3" id="__nav_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    CS231n
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_3">
            <span class="md-nav__icon md-icon"></span>
            CS231n
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CS231n/CS231n_notes.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Computer Vision
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CS231n/Image%20Classification-Data-driven%20Approach%2C%20k-Nearest%20Neighbor%2C%20train_val_test%20splits.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Image Classification-Data-driven Approach, k-Nearest Neighbor, train_val_test splits
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CS231n/Linear%20classification-Support%20Vector%20Machine%2C%20Softmax.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linear classification-Support Vector Machine, Softmax
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="CS231n/Numpy.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Numpy
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_4" >
        
          
          <label class="md-nav__link" for="__nav_6_4" id="__nav_6_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    EECS 498-007
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_4">
            <span class="md-nav__icon md-icon"></span>
            EECS 498-007
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EECS%20498-007/KNN.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    KNN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EECS%20498-007/Pytorch.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pytorch 的基本使用
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="EECS%20498-007/linear_classifer.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Linear classifer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_5" >
        
          
          <label class="md-nav__link" for="__nav_6_5" id="__nav_6_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    FFB6D
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_5">
            <span class="md-nav__icon md-icon"></span>
            FFB6D
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="FFB6D/FFB6D_Conda.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    FFB6D环境配置指南：原生系统安装
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="FFB6D/FFB6D_Docker.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker从入门到实践：以FFB6D环境配置为例
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Robot
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Robot
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Robot/index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg>
  
  <span class="md-ellipsis">
    Robot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Robot/calibration.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Calibration
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Robot/kalman.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    卡尔曼滤波
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Robot/pnp.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pnp
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16h-2v-1H8v1H6v-1H2v5h20v-5h-4zm2-8h-3V6c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v4h4v-2h2v2h8v-2h2v2h4v-4c0-1.1-.9-2-2-2m-5 0H9V6h6z"/></svg>
  
  <span class="md-ellipsis">
    Toolbox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2" id="__nav_8_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Cheat Sheet
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2">
            <span class="md-nav__icon md-icon"></span>
            Cheat Sheet
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2_2" >
        
          
          <label class="md-nav__link" for="__nav_8_2_2" id="__nav_8_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    tools
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2_2">
            <span class="md-nav__icon md-icon"></span>
            tools
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/adb%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    adb Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/bash%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    bash Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/ffmpeg%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ffmpeg Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/gdb%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gdb Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/git%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    git
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/ip%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    ip Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/tools/tmux%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tmux Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2_3" >
        
          
          <label class="md-nav__link" for="__nav_8_2_3" id="__nav_8_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    editors
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2_3">
            <span class="md-nav__icon md-icon"></span>
            editors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/editors/emacs%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    emacs Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/editors/nano%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    nano Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/editors/org%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    org Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/editors/vim%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vim Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_2_4" >
        
          
          <label class="md-nav__link" for="__nav_8_2_4" id="__nav_8_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    languages
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_8_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_2_4">
            <span class="md-nav__icon md-icon"></span>
            languages
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/languages/javascript%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    javascript Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/languages/python%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    python Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Cheat%20Sheet/languages/vimscript%20Cheat%20Sheet.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    VimScript Cheat Sheet
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_3" >
        
          
          <label class="md-nav__link" for="__nav_8_3" id="__nav_8_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    AI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_3">
            <span class="md-nav__icon md-icon"></span>
            AI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/AI/prompt.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    prompt
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/AI/prompt_writing.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI 使用
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_4" >
        
          
          <label class="md-nav__link" for="__nav_8_4" id="__nav_8_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Blog
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_4">
            <span class="md-nav__icon md-icon"></span>
            Blog
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Blog/Mkdocs_Material.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mkdocs material 超全配置
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_5" >
        
          
          <label class="md-nav__link" for="__nav_8_5" id="__nav_8_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Environment
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_5">
            <span class="md-nav__icon md-icon"></span>
            Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Environment/Ubuntu_setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Ubuntu 配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Environment/environment.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Environment
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Environment/obsidian_setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    obsidian 配置
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_6" >
        
          
          <label class="md-nav__link" for="__nav_8_6" id="__nav_8_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Make
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_6">
            <span class="md-nav__icon md-icon"></span>
            Make
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Make/CMake.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CMake 相关
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Make/Makeflie.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Makeflie
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_7" >
        
          
          <label class="md-nav__link" for="__nav_8_7" id="__nav_8_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Others
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_7">
            <span class="md-nav__icon md-icon"></span>
            Others
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Others/Chezmoi.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    用 chezmoi 实现跨设备同步配置
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Others/SSH.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    SSH配置指南
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Others/zotero_%E4%BD%BF%E7%94%A8%E6%8C%87%E5%8D%97.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    zotero_使用指南
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8_8" >
        
          
          <label class="md-nav__link" for="__nav_8_8" id="__nav_8_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Terminal
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_8_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8_8">
            <span class="md-nav__icon md-icon"></span>
            Terminal
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tools/Terminal/Tabby_Zsh.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Tabby + Zsh 配置指南
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Tags
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../Tags/index.html" class="md-nav__link">
        
  
  
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5.5 7A1.5 1.5 0 0 1 4 5.5 1.5 1.5 0 0 1 5.5 4 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 5.5 7m15.91 4.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.11 0-2 .89-2 2v7c0 .55.22 1.05.59 1.41l8.99 9c.37.36.87.59 1.42.59s1.05-.23 1.41-.59l7-7c.37-.36.59-.86.59-1.41 0-.56-.23-1.06-.59-1.42"/></svg>
  
  <span class="md-ellipsis">
    Tags
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1 预备知识
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1 预备知识">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11" class="md-nav__link">
    <span class="md-ellipsis">
      1.1 本书讲什么
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12" class="md-nav__link">
    <span class="md-ellipsis">
      1.2 如何使用本书
    </span>
  </a>
  
    <nav class="md-nav" aria-label="1.2 如何使用本书">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#121" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.1 组织方式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.2 代码
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#123" class="md-nav__link">
    <span class="md-ellipsis">
      1.2.3 面向的读者
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13" class="md-nav__link">
    <span class="md-ellipsis">
      1.3 风格约定
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14" class="md-nav__link">
    <span class="md-ellipsis">
      1.4 致谢和声明
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#15" class="md-nav__link">
    <span class="md-ellipsis">
      1.5 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2 初识 SLAM
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 初识 SLAM">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 引子: 小萝卜的例子
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 经典视觉 SLAM 框架
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.2 经典视觉 SLAM 框架">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.1 视觉里程计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.2 后端优化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.3 回环检测
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224" class="md-nav__link">
    <span class="md-ellipsis">
      2.2.4 建图
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#23-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 SLAM 问题的数学表述
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#24" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 实践: 编程基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2.4 实践: 编程基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#241-linux" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.1 安装 Linux 操作系统
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#242-hello-slam" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.2 Hello SLAM
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#243-cmake" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.3 使用 cmake
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#244" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.4 使用库
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#245-ide" class="md-nav__link">
    <span class="md-ellipsis">
      2.4.5 使用 IDE
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3 三维空间刚体运动
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 三维空间刚体运动">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 旋转矩阵
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.1 旋转矩阵">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#311" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.1 点、向量和坐标系
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#312" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.2 坐标系间的欧式变换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#313" class="md-nav__link">
    <span class="md-ellipsis">
      3.1.3 变换矩阵与齐次坐标
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-eigen" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 实践:Eigen
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 旋转向量和欧拉角
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.3 旋转向量和欧拉角">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#331" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.1 旋转向量
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#332" class="md-nav__link">
    <span class="md-ellipsis">
      3.3.2 欧拉角
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 四元数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.4 四元数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#341" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.1 四元数的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#342" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.2 四元数的运算
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#343" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.3 用四元数表示旋转
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#344" class="md-nav__link">
    <span class="md-ellipsis">
      3.4.4 四元数到其他旋转表示的转换
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35" class="md-nav__link">
    <span class="md-ellipsis">
      3.5 相似、仿射、射影变换
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-eigen" class="md-nav__link">
    <span class="md-ellipsis">
      3.6 实践: Eigen 几何模块
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.6 实践: Eigen 几何模块">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#361-eigen" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.1 Eigen 几何模块的数据演示
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#362" class="md-nav__link">
    <span class="md-ellipsis">
      3.6.2 实际的坐标变换例子
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#37" class="md-nav__link">
    <span class="md-ellipsis">
      3.7 可视化演示
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3.7 可视化演示">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#371" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.1 显示运动轨迹
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#372" class="md-nav__link">
    <span class="md-ellipsis">
      3.7.2 显示相机的位姿
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#38" class="md-nav__link">
    <span class="md-ellipsis">
      3.8 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      4 李群和李代数
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 李群和李代数">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 李群和李代数基础
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 李群和李代数基础">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#411" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1 群
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#412" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.2 李代数的引出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#413" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3 李代数的定义
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#414-displaystyle-mathfrakso3" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.4 李代数 \(\displaystyle \mathfrak{so}(3)\)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#415-displaystyle-mathfrakse3" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.5 李代数 \(\displaystyle \mathfrak{se}(3)\)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 指数与对数映射
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 指数与对数映射">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#421-so3" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 SO(3)上的指数映射
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#422-se-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 SE (3) 上的指数映射
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43" class="md-nav__link">
    <span class="md-ellipsis">
      4.3 李代数求导与扰动模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.3 李代数求导与扰动模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#431-bch" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.1 BCH 公式与近似形式
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#432-so-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.3.2 SO (3) 上的李代数求导
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44" class="md-nav__link">
    <span class="md-ellipsis">
      4.4 李代数求导
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.4 李代数求导">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#441" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.1 扰动模型（左乘）
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#442-se-3" class="md-nav__link">
    <span class="md-ellipsis">
      4.4.2 SE (3) 上的李代数求导
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-sophus" class="md-nav__link">
    <span class="md-ellipsis">
      4.5 实践:Sophus
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.5 实践:Sophus">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#451-sophus" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.1 Sophus 的基本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#452" class="md-nav__link">
    <span class="md-ellipsis">
      4.5.2 例子: 评估轨迹的误差
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46" class="md-nav__link">
    <span class="md-ellipsis">
      4.6 相似变换与李代数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#47" class="md-nav__link">
    <span class="md-ellipsis">
      4.7 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5" class="md-nav__link">
    <span class="md-ellipsis">
      5 相机与图像
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 相机与图像">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#51" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 相机模型
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.1 相机模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#511" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.1 针孔相机模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#512" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.2 畸变模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#513" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.3 双目相机模型
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#514-rgb-d" class="md-nav__link">
    <span class="md-ellipsis">
      5.1.4 RGB-D 相机模型
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#52" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 图像
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#53" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 实践: 计算机中的图像
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.3 实践: 计算机中的图像">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#531-opencv" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.1 OpenCV 的基本使用方法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#532" class="md-nav__link">
    <span class="md-ellipsis">
      5.3.2 图像去畸变
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#54-3-d" class="md-nav__link">
    <span class="md-ellipsis">
      5.4 实践: 3 D 视觉
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5.4 实践: 3 D 视觉">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#541" class="md-nav__link">
    <span class="md-ellipsis">
      5.4.1 双目视觉
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#542-rgb-d" class="md-nav__link">
    <span class="md-ellipsis">
      5.4.2 RGB-D 视觉
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#55" class="md-nav__link">
    <span class="md-ellipsis">
      5.5 习题
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6 非线性优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6 非线性优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61" class="md-nav__link">
    <span class="md-ellipsis">
      6.1 状态估计问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.1 状态估计问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#611" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.1 批量状态估计与最大后验估计
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#612" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.2 最小二乘的引出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#613" class="md-nav__link">
    <span class="md-ellipsis">
      6.1.3 例子: 批量状态估计
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62" class="md-nav__link">
    <span class="md-ellipsis">
      6.2 非线性最小二乘
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.2 非线性最小二乘">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#621" class="md-nav__link">
    <span class="md-ellipsis">
      6.2.1 一阶和二阶梯度法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#622" class="md-nav__link">
    <span class="md-ellipsis">
      6.2.2 高斯牛顿法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#623" class="md-nav__link">
    <span class="md-ellipsis">
      6.2.3 列文伯格——马夸尔特方法
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#63" class="md-nav__link">
    <span class="md-ellipsis">
      6.3 实践: 曲线拟合问题
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6.3 实践: 曲线拟合问题">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#631" class="md-nav__link">
    <span class="md-ellipsis">
      6.3.1 手写高斯牛顿法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#632-ceres" class="md-nav__link">
    <span class="md-ellipsis">
      6.3.2 使用 Ceres 进行曲线拟合
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#633-g2o" class="md-nav__link">
    <span class="md-ellipsis">
      6.3.3 使用 g2o进行曲线拟合
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-1" class="md-nav__link">
    <span class="md-ellipsis">
      7 视觉里程计 1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7 视觉里程计 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#71" class="md-nav__link">
    <span class="md-ellipsis">
      7.1 特征点法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.1 特征点法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#711" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.1 特征点
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#712-orb" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.2 ORB 特征
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#713" class="md-nav__link">
    <span class="md-ellipsis">
      7.1.3 特征匹配
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#72" class="md-nav__link">
    <span class="md-ellipsis">
      7.2 实践: 特征提取和匹配
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.2 实践: 特征提取和匹配">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#721-opencv-orb" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.1 OpenCV 的 ORB 特征
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#722-orb" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.2 手写 ORB 特征
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#723" class="md-nav__link">
    <span class="md-ellipsis">
      7.2.3 计算相机运动
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#73-d-2-d" class="md-nav__link">
    <span class="md-ellipsis">
      7.3 D-2 D: 对极几何
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7.3 D-2 D: 对极几何">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#731" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.1 对极约束
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#732" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.2 本质矩阵
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#733" class="md-nav__link">
    <span class="md-ellipsis">
      7.3.3 单应矩阵
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-2" class="md-nav__link">
    <span class="md-ellipsis">
      8 视觉里程计 2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8 视觉里程计 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#81" class="md-nav__link">
    <span class="md-ellipsis">
      8.1 直接法的引出
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#82-d" class="md-nav__link">
    <span class="md-ellipsis">
      8.2 D 光流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#83-lk" class="md-nav__link">
    <span class="md-ellipsis">
      8.3 实践: LK 光流
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.3 实践: LK 光流">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#831-lk" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.1 使用 LK 光流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#832" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.2 用高斯牛顿法实现光流
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#833" class="md-nav__link">
    <span class="md-ellipsis">
      8.3.3 光流实践小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#84" class="md-nav__link">
    <span class="md-ellipsis">
      8.4 直接法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.4 直接法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#841" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.1 直接法的推导
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#842" class="md-nav__link">
    <span class="md-ellipsis">
      8.4.2 直接法的讨论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#85" class="md-nav__link">
    <span class="md-ellipsis">
      8.5 实践: 直接法
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8.5 实践: 直接法">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#851" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.1 单层直接法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#852" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.2 多层直接法
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#853" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.3 结果讨论
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#854" class="md-nav__link">
    <span class="md-ellipsis">
      8.5.4 直接法优缺点总结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-1" class="md-nav__link">
    <span class="md-ellipsis">
      9 后端 1
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9 后端 1">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#91" class="md-nav__link">
    <span class="md-ellipsis">
      9.1 概述
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.1 概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#911" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.1 状态估计的概率解释
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#912-kf" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.2 线性系统和 KF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#913-ekf" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.3 非线性系统和 EKF
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#914-ekf" class="md-nav__link">
    <span class="md-ellipsis">
      9.1.4 EKF 的讨论
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#92-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.2 BA 与图优化
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.2 BA 与图优化">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#921-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.1 投影模型和 BA 代价函数
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#922-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.2 BA 的求解
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.3 稀疏性和边缘化
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#924" class="md-nav__link">
    <span class="md-ellipsis">
      9.2.4 鲁棒核函数
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#93-ceres-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.3 实践: Ceres BA
    </span>
  </a>
  
    <nav class="md-nav" aria-label="9.3 实践: Ceres BA">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-bal" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.1 BAL 数据集
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-ceres-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.3.2 Ceres BA 的书写
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#94-g-2-o-ba" class="md-nav__link">
    <span class="md-ellipsis">
      9.4 实践: g 2 o 求解 BA
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#95" class="md-nav__link">
    <span class="md-ellipsis">
      9.5 小结
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-2" class="md-nav__link">
    <span class="md-ellipsis">
      10 后端 2
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11_1" class="md-nav__link">
    <span class="md-ellipsis">
      11 回环检测
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#12_1" class="md-nav__link">
    <span class="md-ellipsis">
      12 建图
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#13-slam" class="md-nav__link">
    <span class="md-ellipsis">
      13 实践: 设计 SLAM 系统
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#14-slam" class="md-nav__link">
    <span class="md-ellipsis">
      14 SLAM: 现在与未来
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                  
<a href="https://github.com/mathcourse-share/mathcourse-share.github.io/edit/master/docs/AI/SLAM14.md" title="edit.link.title" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75z"/></svg>
</a>


<h1 id="slam">视觉SLAM十四讲</h1>
<h2 id="1">1 预备知识</h2>
<h3 id="11">1.1 本书讲什么</h3>
<p>simultaneous localization and mapping</p>
<ul>
<li>定位</li>
<li>地图构建</li>
<li>背景知识:<ul>
<li>射影几何</li>
<li>计算机视觉</li>
<li>状态估计理论</li>
<li>李群与李代数</li>
</ul>
</li>
</ul>
<h3 id="12">1.2 如何使用本书</h3>
<h4 id="121">1.2.1 组织方式</h4>
<ul>
<li>数学基础篇<ul>
<li><img alt="QQ_1725118522621.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202408312335787.png" /></li>
</ul>
</li>
<li>实践应用篇<ul>
<li><img alt="QQ_1725118558994.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202408312336762.png" /></li>
</ul>
</li>
</ul>
<h4 id="122">1.2.2 代码</h4>
<p><a href="https://github.com/gaoxiang12/slambook2">GitHub - gaoxiang12/slambook2: edition 2 of the slambook</a></p>
<h4 id="123">1.2.3 面向的读者</h4>
<ul>
<li>基础知识:<ul>
<li>高数线代概率论</li>
<li>C++语言基础（C++标准库，模板类，一部分 C++11 ）</li>
<li>Linux 基础</li>
</ul>
</li>
</ul>
<h3 id="13">1.3 风格约定</h3>
<h3 id="14">1.4 致谢和声明</h3>
<h3 id="15">1.5 习题</h3>
<ul>
<li><strong>题目</strong>：有线性方程 <span class="arithmatex">\(A x=b\)</span>，若已知 <span class="arithmatex">\(A, b\)</span>，需要求解 x，该如何求解？这对 A 和 b 有哪些要求？提示：从 A 的维度和秩角度来分析。</li>
<li><strong>答案</strong>：线性方程组 <span class="arithmatex">\(Ax = b\)</span> 可以通过多种方法求解，如高斯消元法、矩阵逆法等。要求 <span class="arithmatex">\(A\)</span> 是一个方阵且可逆（即 <span class="arithmatex">\(A\)</span> 的行列式不为零），这样方程才有唯一解。如果 <span class="arithmatex">\(A\)</span> 不是方阵，需要 <span class="arithmatex">\(A\)</span> 的秩等于列数且等于增广矩阵 <span class="arithmatex">\(\displaystyle [A|b]\)</span> 的秩，这样方程组才有解。</li>
<li><strong>题目</strong>：高斯分布是什么？它的一维形式是什么样子？它的高维形式是什么样子？</li>
<li><strong>答案</strong>：高斯分布，也称为正态分布，是一种连续概率分布。一维高斯分布的数学表达式为 <span class="arithmatex">\(\displaystyle f (x) = \frac{1}{\sigma\sqrt{2\pi}} e^{-\frac{(x-\mu)^2}{2\sigma^2}}\)</span>，其中 <span class="arithmatex">\(\displaystyle \mu\)</span> 是均值，<span class="arithmatex">\(\displaystyle \sigma\)</span> 是标准差。高维高斯分布是一维高斯分布在多维空间的推广，其概率密度函数为 <span class="arithmatex">\(\displaystyle N (\mathbf{x}; \mathbf{\mu}, \Sigma)\)</span>，其中 <span class="arithmatex">\(\displaystyle \mathbf{\mu}\)</span> 是均值向量，<span class="arithmatex">\(\displaystyle \Sigma\)</span> 是协方差矩阵。</li>
<li><strong>题目</strong>：你知道 C++11 标准吗？你听说过或用过其中哪些新特性？有没有其他的标准？</li>
<li><strong>答案</strong>：是的，C++11 是 C++ 语言的一个重要标准，它引入了许多新特性，如自动类型推导（auto）、基于范围的 for 循环、lambda 表达式、智能指针等。除了 C++11，还有 C++14、C++17 和 C++20 等后续标准，它们也引入了新的特性和改进。</li>
<li><strong>题目</strong>：如何在 Ubuntu 系统中安装软件（不打开软件中心的情况下）？这些软件被安装在什么地方？如果只知道模糊的软件名称（比如想要装一个名称中含有 Eigen 的库），应该如何安装它？</li>
<li><strong>答案</strong>：</li>
<li>软件安装：在 Ubuntu 中，可以使用命令行工具 <code>apt</code> 来安装软件。基本命令为 <code>sudo apt install [package-name]</code>。</li>
<li>安装位置：软件通常被安装在 <code>/usr/</code> 目录下，但具体的文件可能分布在多个子目录中。</li>
<li>模糊名称安装：如果只知道软件名称的一部分，可以使用 <code>apt search</code> 命令来搜索。例如，<code>sudo apt search eigen</code> 可以帮助找到所有包含 "eigen" 的软件包。</li>
<li><strong>题目</strong>：*花一个小时学习 Vim，因为你迟早会用它。你可以在终端中输入 vimtutor 阅读一遍所有内容。我们不需要你非常熟练地操作它，只要能够在学习本书的过程中使用它输入代码即可。不要在它的插件上浪费时间，不要想着把 Vim 用成 IDE，我们只用它做文本编辑的工作。</li>
<li><strong>答案</strong>:<ul>
<li>vim 根本不熟练捏</li>
</ul>
</li>
</ul>
<h2 id="2-slam">2 初识 SLAM</h2>
<h3 id="21">2.1 引子: 小萝卜的例子</h3>
<ul>
<li>自主运动能力</li>
<li>感知周边环境<ul>
<li>状态</li>
<li>环境</li>
</ul>
</li>
<li>安装于环境中（不太好反正）</li>
<li>机器人本体上<ul>
<li>激光 SLAM</li>
<li>视觉 SLAM（本书重点）<ul>
<li>单目（Monocular）<ul>
<li>只能用一个摄像头</li>
<li>距离感<ul>
<li>motion</li>
<li>Structure</li>
<li>Disparity</li>
<li>Scale<ul>
<li>Scale Ambiguity</li>
</ul>
</li>
<li>但是无法确定深度</li>
</ul>
</li>
</ul>
</li>
<li>双目（Sterco）<ul>
<li>两个相机的距离（基线 Baseline）已知</li>
<li>配置与标定比较复杂</li>
</ul>
</li>
<li>深度（RGB-D）<ul>
<li>红外结构关 Time-of-Flight（ToF）</li>
<li>主要用在室内，室外会有很多影响</li>
</ul>
</li>
<li>还有一些非主流的: 全景，Event</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="22-slam">2.2 经典视觉 SLAM 框架</h3>
<ul>
<li><img alt="QQ_1725120955824.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409010016267.png" /><img alt="QQ_1725121088279.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409010018113.png" /></li>
<li>在外界换几个比较稳定的情况下，SLAM 技术已经比较成熟</li>
</ul>
<h4 id="221">2.2.1 视觉里程计</h4>
<ul>
<li>只通过视觉里程计来估计轨迹会出现累积漂移（Accumulating Drift）。</li>
<li>所以需要回环检测与后端优化</li>
</ul>
<h4 id="222">2.2.2 后端优化</h4>
<ul>
<li>最大后验概率估计（Maximum-a-Posteriori MAP）</li>
<li>前端<ul>
<li>图像的特征提取与匹配</li>
</ul>
</li>
<li>后端<ul>
<li>滤波与非线性算法</li>
</ul>
</li>
<li>对运动主体自身和周围环境空间不确定性的估计</li>
</ul>
<h4 id="223">2.2.3 回环检测</h4>
<ul>
<li>闭环检测</li>
<li>识别到过的场景</li>
<li>利用图像的相似性</li>
</ul>
<h4 id="224">2.2.4 建图</h4>
<ul>
<li>度量地图<ul>
<li>Sparse<ul>
<li>Landmark</li>
<li>定位用</li>
</ul>
</li>
<li>Dense<ul>
<li>Grid / Vocel</li>
<li>导航用</li>
</ul>
</li>
</ul>
</li>
<li>拓扑地图<br />
    Graph</li>
</ul>
<h3 id="23-slam">2.3 SLAM 问题的数学表述</h3>
<ul>
<li>运动方程<ul>
<li><span class="arithmatex">\(\displaystyle \quad\boldsymbol{x}_k=f\left(\boldsymbol{x}_{k-1},\boldsymbol{u}_k,\boldsymbol{w}_k\right).\)</span><ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{u}_{k}\)</span> 是运动传感器的输入</li>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{w}_{k}\)</span> 是过程中加入的噪声</li>
</ul>
</li>
</ul>
</li>
<li>观测方程<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{z}_{k,j} = h (\boldsymbol{y}_{j},\boldsymbol{x}_{k},\boldsymbol{v}_{k,j})\)</span><ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{v}_{k,j}\)</span> 是观测里的噪声</li>
</ul>
</li>
</ul>
</li>
<li>又很多参数化的方式</li>
<li>可以总结为如下两个方程</li>
</ul>
<div class="arithmatex">\[
\begin{cases}\boldsymbol{x}_k=f\left(\boldsymbol{x}_{k-1},\boldsymbol{u}_k,\boldsymbol{w}_k\right),&amp;k=1,\cdots,K\\\boldsymbol{z}_{k,j}=h\left(\boldsymbol{y}_j,\boldsymbol{x}_k,\boldsymbol{v}_{k,j}\right),&amp;(k,j)\in\mathcal{O}\end{cases}.
\]</div>
<ul>
<li>知道运动测量的读数 <span class="arithmatex">\(\displaystyle \boldsymbol{u}\)</span> 和传感器的读数 <span class="arithmatex">\(\displaystyle \boldsymbol{z}\)</span>，如何求解定位问题和建图问题。<ul>
<li>状态估计问题: 如何通过带有噪声的测量数据，估计内部的、隐藏着的状态变量</li>
</ul>
</li>
<li>Linear Gaussian -&gt; Kalman Filter</li>
<li>Non-Linear Non-Gaussian -&gt; Extended Kalman Filter 和非线性优化</li>
<li>EKF -&gt; Particle Filter -&gt; Graph Optimization</li>
</ul>
<h3 id="24">2.4 实践: 编程基础</h3>
<h4 id="241-linux">2.4.1 安装 Linux 操作系统</h4>
<h4 id="242-hello-slam">2.4.2 Hello SLAM</h4>
<h4 id="243-cmake">2.4.3 使用 cmake</h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>cmake_minimum_required( VERSION 2.8)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>project(HelloSLAM)
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>add_executable(helloSLAM helloSLAM.cpp)
</span></code></pre></div>
<p>对中间文件的处理:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>mkdir build
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>cd build
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>cmake ..
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>make
</span></code></pre></div>
<h4 id="244">2.4.4 使用库</h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>add_library(hello libHelloSLAM.cpp)
</span></code></pre></div>
<ul>
<li>静态库<ul>
<li>.a 作为后缀名，每次调用都有一个副本</li>
</ul>
</li>
<li>共享库<ul>
<li>.so，只有一个副本</li>
</ul>
</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>add_library(hello_shared SHARED libHelloSLAM.cpp)
</span></code></pre></div>
<ul>
<li>还要一个头文件来说明库里都有什么</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>#ifndef LIBHELLOSLAM_H_
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>#define LIBHELLOSLAM_H_
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>void printHello()
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>#endif
</span></code></pre></div>
<ul>
<li>最后写一个可执行程序:</li>
</ul>
<div class="language-c++ highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;libHelloSLAM.h&quot;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="n">printHello</span><span class="p">();</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">   </span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>在 CMakeLists. txt 中添加可执行命令的生成命令，链接到库上:</li>
</ul>
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>add_executable(useHello useHello.cpp)
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>target_link_libraries(useHello hello_shared)
</span></code></pre></div>
<h4 id="245-ide">2.4.5 使用 IDE</h4>
<ul>
<li>KDevelop</li>
<li>Clion</li>
<li>还没写</li>
</ul>
<h2 id="3">3 三维空间刚体运动</h2>
<h3 id="31">3.1 旋转矩阵</h3>
<h4 id="311">3.1.1 点、向量和坐标系</h4>
<ul>
<li>Skew-symmetric Matrix</li>
</ul>
<div class="arithmatex">\[
a\times b = 
\begin{Vmatrix}e_1&amp;e_2&amp;e_3\\ \\
a_1&amp;a_2&amp;a_3\\ \\
b_1&amp;b_2&amp;b_3 \\
\end{Vmatrix}
=
\begin{bmatrix}
a_2b_3-a_3b_2\\ \\
a_3b_1-a_1b_3\\ \\
a_1b_2-a_2b_1 
\end{bmatrix}
=
\begin{bmatrix} 
0&amp;-a_3&amp;a_2\\ \\
a_3&amp;0&amp;-a_1\\ \\
-a_2&amp;a_1&amp;0 
\end{bmatrix}
\boldsymbol{b}\overset{\mathrm{def}}{\operatorname*{=}}\boldsymbol{a}^{\wedge}\boldsymbol{b}.
\]</div>
<ul>
<li>于是就把外积变成了线性运算</li>
<li>即</li>
</ul>
<div class="arithmatex">\[
\displaystyle \boldsymbol{a}^{\wedge}=\begin{bmatrix}
0  &amp; -a_{3}  &amp; a_{2} \\
a_{3} &amp; 0 &amp; -a_{1} \\
-a_{2} &amp; a_{1} &amp; 0
\end{bmatrix}
\]</div>
<h4 id="312">3.1.2 坐标系间的欧式变换</h4>
<ul>
<li>Euclidean Transform</li>
</ul>
<div class="arithmatex">\[
\begin{bmatrix}a_1\\ \\
a_2\\\\a_3\end{bmatrix}=\begin{bmatrix}e_1^\mathrm{T}e_1^{\prime}&amp;e_1^\mathrm{T}e_2^{\prime}&amp;e_1^\mathrm{T}e_3^{\prime}\\e_2^\mathrm{T}e_1^{\prime}&amp;e_2^\mathrm{T}e_2^{\prime}&amp;e_2^\mathrm{T}e_3^{\prime}\\e_3^\mathrm{T}e_1^{\prime}&amp;e_3^\mathrm{T}e_2^{\prime}&amp;e_3^\mathrm{T}e_3^{\prime}\end{bmatrix}\begin{bmatrix}a_1^{\prime}\\\\a_2^{\prime}\\\\a_3^{\prime}\end{bmatrix}\stackrel{\mathrm{def}}{=}Ra^{\prime}
\]</div>
<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{R}\)</span> 是旋转矩阵、方向余弦矩阵</li>
<li>Special Orthogonal Group <span class="arithmatex">\(\displaystyle \mathrm{SO}(n)=\{\boldsymbol{R}\in \mathbb{R}^{n \times n}|\boldsymbol{R}\boldsymbol{R}^{\mathrm{T}}=\boldsymbol{I},\det(\boldsymbol{R})=1\}\)</span></li>
<li><span class="arithmatex">\(\displaystyle a^{\prime}=R^{-1}a=R^{\intercal}a.\)</span></li>
<li>旋转+平移: <span class="arithmatex">\(\displaystyle a^{\prime}=Ra+t.\)</span></li>
</ul>
<h4 id="313">3.1.3 变换矩阵与齐次坐标</h4>
<ul>
<li>但是这里的变换关系不是一个线性关系</li>
<li><span class="arithmatex">\(\displaystyle c=R_2\left(R_1a+t_1\right)+t_2\)</span></li>
<li>我们改写一下形式:<ul>
<li><span class="arithmatex">\(\displaystyle \begin{bmatrix}a'\\\\1\end{bmatrix}=\begin{bmatrix}R&amp;t\\\\\mathbf{0}^\mathrm{T}&amp;1\end{bmatrix}\begin{bmatrix}a\\\\1\end{bmatrix}\overset{\mathrm{def}}{=}T\begin{bmatrix}a\\\\1\end{bmatrix}\)</span></li>
<li>这就是齐次坐标，<span class="arithmatex">\(\displaystyle \boldsymbol{T}\)</span> 称为变换矩阵（Transform matrix）</li>
</ul>
</li>
<li><span class="arithmatex">\(\displaystyle \tilde{b}=T_1\tilde{\boldsymbol{a}}, \tilde{\boldsymbol{c}}=T_2\tilde{\boldsymbol{b}}\quad\Rightarrow\tilde{\boldsymbol{c}}=T_2T_1\tilde{\boldsymbol{a}}.\)</span></li>
<li>并且 <span class="arithmatex">\(\displaystyle \boldsymbol{T}\)</span> 称为特殊欧式群（Special Euclidean Group）<ul>
<li><span class="arithmatex">\(\displaystyle \mathrm{SE}(3)=\left\{T=\begin{bmatrix}R&amp;t\\\mathbf{0}^\mathrm{T}&amp;1\end{bmatrix}\in\mathbb{R}^{4\times4}|\boldsymbol{R}\in\mathrm{SO}(3),\boldsymbol{t}\in\mathbb{R}^3\right\}\)</span></li>
</ul>
</li>
<li><span class="arithmatex">\(\displaystyle T^{-1}=\begin{bmatrix}R^\mathrm{T}&amp;-R^\mathrm{T}t\\0^\mathrm{T}&amp;1\end{bmatrix}\)</span></li>
<li>在 C++程序中可以使用运算符重载来处理齐次和非齐次的情况</li>
</ul>
<h3 id="32-eigen">3.2 实践:Eigen</h3>
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">std</span><span class="p">;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;ctime&gt;</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;eigen3&gt;</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="k">using</span><span class="w"> </span><span class="k">namespace</span><span class="w"> </span><span class="nn">Eigen</span><span class="p">;</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="cp">#define MATRIX_SIZE 50</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">argc</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">**</span><span class="n">argv</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="o">&gt;</span><span class="w"> </span><span class="n">matrix_23</span><span class="p">;</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a><span class="c1">// 如下都是三维向量</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">    </span><span class="n">Vector3d</span><span class="w"> </span><span class="n">v_3d</span><span class="p">;</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">vd_3d</span><span class="p">;</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="c1">// 如下是3*3矩阵</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">    </span><span class="n">Matrix3d</span><span class="w"> </span><span class="n">matrix_33</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Matrix3d</span><span class="o">::</span><span class="n">Zero</span><span class="p">();</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="c1">// 两个动态分配</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="n">Dynamic</span><span class="p">,</span><span class="w"> </span><span class="n">Dynamic</span><span class="o">&gt;</span><span class="w"> </span><span class="n">matrix_dynamic</span><span class="p">;</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">    </span><span class="n">MatrixXd</span><span class="w"> </span><span class="n">matrix_x</span><span class="p">;</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">    </span><span class="n">matrix_23</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">    </span><span class="n">cout</span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;matrix 2*3 from 1 to 6: </span><span class="se">\n</span><span class="s">&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">matrix_23</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;print matrix 2*3:&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#__codelineno-7-27"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w"> </span><span class="n">j</span><span class="o">+</span><span class="p">)</span><span class="w"> </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">matrix_23</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="n">j</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\t</span><span class="s">&quot;</span><span class="p">;</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#__codelineno-7-28"></a><span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#__codelineno-7-29"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#__codelineno-7-30"></a>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#__codelineno-7-31"></a><span class="w">    </span><span class="n">v_3d</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#__codelineno-7-32"></a><span class="w">    </span><span class="n">vd_3d</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">;</span>
</span><span id="__span-7-33"><a id="__codelineno-7-33" name="__codelineno-7-33" href="#__codelineno-7-33"></a>
</span><span id="__span-7-34"><a id="__codelineno-7-34" name="__codelineno-7-34" href="#__codelineno-7-34"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix_23</span><span class="p">.</span><span class="n">cast</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v_3d</span><span class="p">;</span>
</span><span id="__span-7-35"><a id="__codelineno-7-35" name="__codelineno-7-35" href="#__codelineno-7-35"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;[1, 2, 3; 4, 5, 6] * [3, 2, 1] =&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">result</span><span class="p">.</span><span class="n">transpose</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
</span><span id="__span-7-36"><a id="__codelineno-7-36" name="__codelineno-7-36" href="#__codelineno-7-36"></a>
</span><span id="__span-7-37"><a id="__codelineno-7-37" name="__codelineno-7-37" href="#__codelineno-7-37"></a><span class="w">    </span><span class="n">matrix_22</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Matrix3d</span><span class="o">::</span><span class="n">Random</span><span class="p">();</span>
</span><span id="__span-7-38"><a id="__codelineno-7-38" name="__codelineno-7-38" href="#__codelineno-7-38"></a>
</span><span id="__span-7-39"><a id="__codelineno-7-39" name="__codelineno-7-39" href="#__codelineno-7-39"></a><span class="w">    </span><span class="c1">// 一些矩阵的操作:</span>
</span><span id="__span-7-40"><a id="__codelineno-7-40" name="__codelineno-7-40" href="#__codelineno-7-40"></a><span class="w">    </span><span class="c1">// transpose()</span>
</span><span id="__span-7-41"><a id="__codelineno-7-41" name="__codelineno-7-41" href="#__codelineno-7-41"></a><span class="w">    </span><span class="c1">// sum()</span>
</span><span id="__span-7-42"><a id="__codelineno-7-42" name="__codelineno-7-42" href="#__codelineno-7-42"></a><span class="w">    </span><span class="c1">// trace()</span>
</span><span id="__span-7-43"><a id="__codelineno-7-43" name="__codelineno-7-43" href="#__codelineno-7-43"></a><span class="w">    </span><span class="c1">// inverse()</span>
</span><span id="__span-7-44"><a id="__codelineno-7-44" name="__codelineno-7-44" href="#__codelineno-7-44"></a><span class="w">    </span><span class="c1">// determinant()</span>
</span><span id="__span-7-45"><a id="__codelineno-7-45" name="__codelineno-7-45" href="#__codelineno-7-45"></a>
</span><span id="__span-7-46"><a id="__codelineno-7-46" name="__codelineno-7-46" href="#__codelineno-7-46"></a><span class="w">    </span><span class="n">SelfAdjointEigenSolver</span><span class="o">&lt;</span><span class="n">Matrix3d</span><span class="o">&gt;</span><span class="w"> </span><span class="n">eigen_solver</span><span class="p">(</span><span class="n">matrix_33</span><span class="p">.</span><span class="n">transpose</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">matrix_33</span><span class="p">);</span>
</span><span id="__span-7-47"><a id="__codelineno-7-47" name="__codelineno-7-47" href="#__codelineno-7-47"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">eigen_solver</span><span class="p">.</span><span class="n">eigenvalues</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
</span><span id="__span-7-48"><a id="__codelineno-7-48" name="__codelineno-7-48" href="#__codelineno-7-48"></a><span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">eigen_solver</span><span class="p">.</span><span class="n">eigenvectors</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
</span><span id="__span-7-49"><a id="__codelineno-7-49" name="__codelineno-7-49" href="#__codelineno-7-49"></a>
</span><span id="__span-7-50"><a id="__codelineno-7-50" name="__codelineno-7-50" href="#__codelineno-7-50"></a><span class="w">    </span><span class="c1">// solve the equation</span>
</span><span id="__span-7-51"><a id="__codelineno-7-51" name="__codelineno-7-51" href="#__codelineno-7-51"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="n">MATRIX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="n">MATRIX_SIZE</span><span class="o">&gt;</span><span class="w"> </span><span class="n">matrix_NN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MatrixXd</span><span class="o">::</span><span class="n">Random</span><span class="p">(</span><span class="n">MATRIX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="n">MATRIX_SIZE</span><span class="p">);</span>
</span><span id="__span-7-52"><a id="__codelineno-7-52" name="__codelineno-7-52" href="#__codelineno-7-52"></a><span class="w">    </span><span class="n">matrix_NN</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix_NN</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">matrix_NN</span><span class="p">.</span><span class="n">transpose</span><span class="p">()</span>
</span><span id="__span-7-53"><a id="__codelineno-7-53" name="__codelineno-7-53" href="#__codelineno-7-53"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="n">MATRIX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">v_Nd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">MatrixXd</span><span class="o">::</span><span class="n">random</span><span class="p">(</span><span class="n">MATRIX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
</span><span id="__span-7-54"><a id="__codelineno-7-54" name="__codelineno-7-54" href="#__codelineno-7-54"></a>
</span><span id="__span-7-55"><a id="__codelineno-7-55" name="__codelineno-7-55" href="#__codelineno-7-55"></a><span class="w">    </span><span class="c1">// 第一种:直接求逆</span>
</span><span id="__span-7-56"><a id="__codelineno-7-56" name="__codelineno-7-56" href="#__codelineno-7-56"></a><span class="w">    </span><span class="n">Matrix</span><span class="o">&lt;</span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="n">MATRIX_SIZE</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="o">&gt;</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix_NN</span><span class="p">.</span><span class="n">inverse</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">v_Nd</span><span class="p">;</span>
</span><span id="__span-7-57"><a id="__codelineno-7-57" name="__codelineno-7-57" href="#__codelineno-7-57"></a>
</span><span id="__span-7-58"><a id="__codelineno-7-58" name="__codelineno-7-58" href="#__codelineno-7-58"></a><span class="w">    </span><span class="c1">// 第二种:矩阵分解</span>
</span><span id="__span-7-59"><a id="__codelineno-7-59" name="__codelineno-7-59" href="#__codelineno-7-59"></a><span class="w">    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">matrix_NN</span><span class="p">.</span><span class="n">colPivHouseholderQr</span><span class="p">().</span><span class="n">solve</span><span class="p">(</span><span class="n">v_Nd</span><span class="p">);</span>
</span><span id="__span-7-60"><a id="__codelineno-7-60" name="__codelineno-7-60" href="#__codelineno-7-60"></a>
</span><span id="__span-7-61"><a id="__codelineno-7-61" name="__codelineno-7-61" href="#__codelineno-7-61"></a><span class="p">}</span>
</span></code></pre></div>
<ul>
<li>Eigen 不支持自动类型提升，即不会隐式转换</li>
</ul>
<h3 id="33">3.3 旋转向量和欧拉角</h3>
<h4 id="331">3.3.1 旋转向量</h4>
<ul>
<li>Axis-Angle</li>
<li>Rodrigues's Formula<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{R}=\cos\theta\boldsymbol{I}+\left(1-\cos\theta\right)\boldsymbol{n}\boldsymbol{n}^\mathrm{T}+\sin\theta\boldsymbol{n}^\mathrm{\wedge}.\)</span></li>
</ul>
</li>
</ul>
<div class="arithmatex">\[
\begin{aligned}
\mathrm{tr}\left(R\right)&amp; =\cos\theta\operatorname{tr}\left(\boldsymbol{I}\right)+\left(1-\cos\theta\right)\operatorname{tr}\left(\boldsymbol{n}\boldsymbol{n}^\mathrm{T}\right)+\sin\theta\operatorname{tr}(\boldsymbol{n}^\mathrm{\Lambda}) \\
&amp;=3\cos\theta+(1-\cos\theta) \\
&amp;=1+2\cos\theta 
\end{aligned}
\]</div>
<p>thus:</p>
<div class="arithmatex">\[
\theta=\arccos\frac{\mathrm{tr}(R)-1}{2}.
\]</div>
<div class="arithmatex">\[
Rn=n.
\]</div>
<ul>
<li>即 <span class="arithmatex">\(\displaystyle \boldsymbol{n}\)</span> 是矩阵 <span class="arithmatex">\(\displaystyle \boldsymbol{R}\)</span> 特征值 1 对应的特诊向量</li>
</ul>
<h4 id="332">3.3.2 欧拉角</h4>
<ul>
<li>比较常用的一种 yaw-pitch-roll<ul>
<li>ZYX</li>
</ul>
</li>
<li>但会有 Gimbal Lock 问题<ul>
<li>所以欧拉角比较适合用于快速检验结果是否有错</li>
</ul>
</li>
</ul>
<h3 id="34">3.4 四元数</h3>
<h4 id="341">3.4.1 四元数的定义</h4>
<ul>
<li>我们找不到不带奇异性的三位向量描述方式<ul>
<li>找不到一个流形？</li>
</ul>
</li>
<li>Quaternion<ul>
<li>紧凑又没有奇异性</li>
<li>只是不够直观+运算复杂</li>
</ul>
</li>
<li><span class="arithmatex">\(\displaystyle q=q_0+q_1\mathrm{i}+\mathrm{q}_2\mathrm{j}+\mathrm{q}_3\mathrm{k}\)</span></li>
</ul>
<div class="arithmatex">\[
\begin{cases}\mathbf{i}^2=\mathbf{j}^2=\mathbf{k}^2=-1\\\mathbf{ij}=\mathbf{k},\mathbf{ji}=-\mathbf{k}\\\mathbf{jk}=\mathbf{i},\mathbf{kj}=-\mathbf{i}\\\mathbf{ki}=\mathbf{j},\mathbf{ik}=-\mathbf{j}\end{cases}
\]</div>
<ul>
<li>(也许可以用度规来表示？)</li>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{q}=\left[s,\boldsymbol{v}\right]^\mathrm{T},\quad s=q_0\in\mathbb{R},\quad\boldsymbol{v}=\left[q_1,q_2,q_3\right]^\mathrm{T}\in\mathbb{R}^3.\)</span></li>
<li>书上没写直观的几何对应</li>
</ul>
<h4 id="342">3.4.2 四元数的运算</h4>
<ul>
<li>乘法: <span class="arithmatex">\(\displaystyle \boldsymbol{q}_a\boldsymbol{q}_b=\begin{bmatrix}s_as_b-\boldsymbol{v}_a^\mathrm{T}\boldsymbol{v}_b,s_a\boldsymbol{v}_b+s_b\boldsymbol{v}_a+\boldsymbol{v}_a\times\boldsymbol{v}_b\end{bmatrix}^\mathrm{T}.\)</span><ul>
<li>由于最后一项的存在，乘法不具有交换律</li>
</ul>
</li>
<li>共轭: <span class="arithmatex">\(\displaystyle q_a^*=s_a-x_a\mathrm{i}-\mathrm{y_aj}-\mathrm{z_ak}=[\mathrm{s_a},-\mathrm{v_a}]^\mathrm{T}.\)</span><ul>
<li><span class="arithmatex">\(\displaystyle q^*q=qq^*=[s_a^2+\boldsymbol{v}^\mathrm{T}\boldsymbol{v},\boldsymbol{0}]^\mathrm{T}.\)</span></li>
</ul>
</li>
<li>逆: <span class="arithmatex">\(\displaystyle q^{-1}=q^*/\|q\|^2.\)</span><ul>
<li><span class="arithmatex">\(\displaystyle (\boldsymbol{q}_a\boldsymbol{q}_b)^{-1}=\boldsymbol{q}_b^{-1}\boldsymbol{q}_a^{-1}.\)</span></li>
</ul>
</li>
</ul>
<h4 id="343">3.4.3 用四元数表示旋转</h4>
<ul>
<li>先表示三维空间点:<ul>
<li><span class="arithmatex">\(\displaystyle p=[0,x,y,z]^{\mathrm{T}}=[0,\boldsymbol{v}]^{\mathrm{T}}.\)</span></li>
</ul>
</li>
<li>再旋转:<ul>
<li><span class="arithmatex">\(\displaystyle p'=qpq^{-1}.\)</span></li>
</ul>
</li>
</ul>
<h4 id="344">3.4.4 四元数到其他旋转表示的转换</h4>
<ul>
<li>设 <span class="arithmatex">\(\displaystyle \boldsymbol{q} = [s,\boldsymbol{v}]^\mathrm{T}\)</span><ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{q}^+=\begin{bmatrix}s&amp;-\boldsymbol{v}^\mathrm{T}\\\\\boldsymbol{v}&amp;s\boldsymbol{I}+\boldsymbol{v}^\wedge\end{bmatrix},\quad\boldsymbol{q}^\oplus=\begin{bmatrix}s&amp;-\boldsymbol{v}^\mathrm{T}\\\\\boldsymbol{v}&amp;s\boldsymbol{I}-\boldsymbol{v}^\wedge\end{bmatrix}.\)</span></li>
<li><span class="arithmatex">\(\displaystyle q_1^+q_2=\begin{bmatrix}s_1&amp;-\boldsymbol{v}_1^\mathrm{T}\\\\\boldsymbol{v}_1&amp;s_1\boldsymbol{I}+\boldsymbol{v}_1^\wedge\end{bmatrix}\begin{bmatrix}s_2\\\\\boldsymbol{v}_2\end{bmatrix}=\begin{bmatrix}-\boldsymbol{v}_1^\mathrm{T}\boldsymbol{v}_2+s_1s_2\\\\s_1\boldsymbol{v}_2+s_2\boldsymbol{v}_1+\boldsymbol{v}_1^\wedge\boldsymbol{v}_2\end{bmatrix}=\boldsymbol{q}_1\boldsymbol{q}_2.\)</span></li>
<li>同理可证:<ul>
<li><span class="arithmatex">\(\displaystyle q_1q_2=q_1^+q_2=q_2^\oplus q_1.\)</span></li>
</ul>
</li>
</ul>
</li>
<li>再来考虑旋转:<ul>
<li><span class="arithmatex">\(\displaystyle \begin{aligned}p^{\prime}&amp;=qpq^{-1}=q^{+}p^{+}q^{-1}\\&amp;=q^{+}q^{-1^{\oplus}}p.\end{aligned}\)</span></li>
<li>于是可以得到:<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{q}^{+}\big(\boldsymbol{q}^{-1}\big)^{\oplus}=\begin{bmatrix}s&amp;-\boldsymbol{v}^{\mathrm{T}}\\\boldsymbol{v}&amp;s\boldsymbol{I}+\boldsymbol{v}^{\wedge}\end{bmatrix}\begin{bmatrix}s&amp;\boldsymbol{v}^{\mathrm{T}}\\-\boldsymbol{v}&amp;s\boldsymbol{I}+\boldsymbol{v}^{\wedge}\end{bmatrix}=\begin{bmatrix}1&amp;\boldsymbol{0}\\\boldsymbol{0}^{\mathrm{T}}&amp;\boldsymbol{v}\boldsymbol{v}^{\mathrm{T}}+s^{2}\boldsymbol{I}+2s\boldsymbol{v}^{\wedge}+\left(\boldsymbol{v}^{\wedge}\right)^{2}\end{bmatrix}.\)</span></li>
<li>即: <span class="arithmatex">\(\displaystyle R=\boldsymbol{v}\boldsymbol{v}^\mathrm{T}+s^2\boldsymbol{I}+2s\boldsymbol{v}^\wedge+\left(\boldsymbol{v}^\wedge\right)^2.\)</span></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="arithmatex">\[
\begin{aligned}
\operatorname{tr}(R)&amp; =\mathbf{tr}(\boldsymbol{vv}^\mathrm{T}+3s^2+2s\cdot0+\mathbf{tr}((\boldsymbol{v}^\wedge)^2) \\
&amp;=v_{1}^{2}+v_{2}^{2}+v_{3}^{2}+3s^{2}-2(v_{1}^{2}+v_{2}^{2}+v_{3}^{2}) \\
&amp;=(1-s^2)+3s^2-2(1-s^2) \\
&amp;=4s^2-1.
\end{aligned}
\]</div>
<ul>
<li>即 <span class="arithmatex">\(\displaystyle \theta=2\arccos s.\)</span></li>
<li>再加上旋转轴:</li>
</ul>
<div class="arithmatex">\[
\begin{cases}\theta=2\arccos q_0\\
[n_x,n_y,n_z]^\mathrm{T}=[q_1,q_2,q_3]^\mathrm{T}/\sin\frac{\theta}{2}\end{cases}.
\]</div>
<h3 id="35">3.5 相似、仿射、射影变换</h3>
<ol>
<li>相似变换:</li>
</ol>
<div class="arithmatex">\[
\boldsymbol{T}_S=\begin{bmatrix}s\boldsymbol{R}&amp;t\\\mathbf{0}^\mathrm{T}&amp;1\end{bmatrix}.
\]</div>
<p>允许缩放，相似变换群: Sim (3)<br />
2. 仿射变换:</p>
<div class="arithmatex">\[
T_A=\begin{bmatrix}A&amp;t\\\mathbf{0}^\mathrm{T}&amp;1\end{bmatrix}.
\]</div>
<p>只保证平行关系<br />
3. 射影变换</p>
<div class="arithmatex">\[
T_P=\begin{bmatrix}A&amp;t\\\\a^\mathrm{T}&amp;v\end{bmatrix}.
\]</div>
<p>总结一下:</p>
<div class="arithmatex">\[
\begin{array}{c|c|c|c}\hline\text{变换名称}&amp;\text{矩阵形式}&amp;\text{自由度}&amp;\text{不变性质}\\\hline\text{欧氏变换}&amp;\begin{bmatrix}R&amp;t\\0^\mathrm{T}&amp;1\end{bmatrix}&amp;6&amp;\text{长度、夹角、体积}\\\text{相似变换}&amp;\begin{bmatrix}sR&amp;t\\0^\mathrm{T}&amp;1\end{bmatrix}&amp;7&amp;\text{体积比}\\\text{仿射变换}&amp;\begin{bmatrix}A&amp;t\\0^\mathrm{T}&amp;1\end{bmatrix}&amp;12&amp;\text{平行性、体积比}\\\text{射影变换}&amp;\begin{bmatrix}A&amp;t\\a^\mathrm{T}&amp;v\end{bmatrix}&amp;15&amp;\text{接触平面的相交和相切}\\\hline\end{array}
\]</div>
<h3 id="36-eigen">3.6 实践: Eigen 几何模块</h3>
<h4 id="361-eigen">3.6.1 Eigen 几何模块的数据演示</h4>
<p>再说吧。</p>
<h4 id="362">3.6.2 实际的坐标变换例子</h4>
<p>TODO</p>
<h3 id="37">3.7 可视化演示</h3>
<h4 id="371">3.7.1 显示运动轨迹</h4>
<ul>
<li>用 Pangolin 库</li>
<li>TODO</li>
</ul>
<h4 id="372">3.7.2 显示相机的位姿</h4>
<h3 id="38">3.8 习题</h3>
<p>TODO</p>
<h2 id="4">4 李群和李代数</h2>
<ul>
<li>由于旋转矩阵本身带有约束（正交且行列式为 1），让优化变得困难。</li>
<li>所以我们引入李群-李代数间的转换关系，把位姿估计变成无约束的优化问题</li>
</ul>
<h3 id="41">4.1 李群和李代数基础</h3>
<ul>
<li>三维旋转矩阵构成了特殊正交群 <span class="arithmatex">\(\displaystyle \boldsymbol{SO}(3)\)</span></li>
<li>变换矩阵构成了特殊欧氏群 <span class="arithmatex">\(\displaystyle \boldsymbol{SE}(3)\)</span><ul>
<li>但是他们都对加法不封闭</li>
<li>对乘法封闭</li>
</ul>
</li>
</ul>
<h4 id="411">4.1.1 群</h4>
<ul>
<li><span class="arithmatex">\(\displaystyle G = (A,\cdot)\)</span> 满足:<ul>
<li>封闭性</li>
<li>结合律</li>
<li>幺元</li>
<li>逆</li>
</ul>
</li>
<li>李群是具有连续（光滑）性质的群</li>
</ul>
<h4 id="412">4.1.2 李代数的引出</h4>
<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{R}\boldsymbol{R}^\mathrm{T} = \boldsymbol{I}\)</span></li>
<li>我们易得: <span class="arithmatex">\(\displaystyle \dot{\boldsymbol{R}}(t)\boldsymbol{R}(t)^\mathrm{T}=-\left(\dot{\boldsymbol{R}}(t)\boldsymbol{R}(t)^\mathrm{T}\right)^\mathrm{T}.\)</span><ul>
<li>即 <span class="arithmatex">\(\displaystyle \dot{\boldsymbol{R}}(t)\boldsymbol{R}(t)^\mathrm{T}\)</span> 是反对称</li>
</ul>
</li>
<li>而对于任意反对称矩阵，我们都可以找到唯一与之对应的向量<ul>
<li><span class="arithmatex">\(\displaystyle \dot{\boldsymbol{R}}(t)\boldsymbol{R}(t)^\mathrm{T}=\boldsymbol{\phi}(t)^{\wedge}.\)</span></li>
<li><span class="arithmatex">\(\displaystyle \dot{\boldsymbol{R}}(t)=\phi(t)^{\wedge}\boldsymbol{R}(t)=\begin{bmatrix}0&amp;-\phi_3&amp;\phi_2\\\phi_3&amp;0&amp;-\phi_1\\-\phi_2&amp;\phi_1&amp;0\end{bmatrix}\boldsymbol{R}(t).\)</span><br />
考虑 <span class="arithmatex">\(\displaystyle t_{0} = 0\)</span> 和 <span class="arithmatex">\(\displaystyle \boldsymbol{R}(0) = \boldsymbol{I}\)</span> 时:</li>
</ul>
</li>
</ul>
<div class="arithmatex">\[
\begin{aligned}
R(t)&amp; \approx\boldsymbol{R}\left(t_{0}\right)+\dot{\boldsymbol{R}}\left(t_{0}\right)\left(t-t_{0}\right) \\
&amp;=I+\phi(t_0)^{\wedge}(t).
\end{aligned}
\]</div>
<p>于是求导-&gt;一个算符 <span class="arithmatex">\(\displaystyle \phi\)</span> ，被称为 <span class="arithmatex">\(\displaystyle \boldsymbol{SO}(3)\)</span> 原点附近的正切空间（Tangent Space）<br />
设在 <span class="arithmatex">\(\displaystyle t_{0}\)</span> 附近，<span class="arithmatex">\(\displaystyle \phi\)</span> 保持常数 <span class="arithmatex">\(\displaystyle \phi(t_{0})=\phi_{0}\)</span>，</p>
<div class="arithmatex">\[
\dot{\boldsymbol{R}}(t)=\boldsymbol{\phi}(t_0)^\wedge\boldsymbol{R}(t)=\boldsymbol{\phi}_0^\wedge\boldsymbol{R}(t).
\]</div>
<p>再有 <span class="arithmatex">\(\displaystyle \boldsymbol{R}(0) = \boldsymbol{I}\)</span>，解的:</p>
<div class="arithmatex">\[
\boldsymbol{R}(t)=\exp\left(\boldsymbol{\phi}_{0}^{\wedge}t\right).
\]</div>
<ul>
<li><span class="arithmatex">\(\displaystyle \phi\)</span> 正是对应到 <span class="arithmatex">\(\displaystyle SO(3)\)</span> 上的李代数 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span></li>
<li><span class="arithmatex">\(\displaystyle \begin{aligned}&amp;\text{其次,给定某个向量 }\phi\text{ 时,矩阵指数}\exp(\phi^{\wedge})\text{ 如何计算? 反之,给定 }R\text{ 时,能否有相反}\\&amp;\text{的运算来计算 }\phi?\text{ 事实上,这正是李群与李代数间的指数}/\text{对数映射。}\end{aligned}\)</span></li>
</ul>
<h4 id="413">4.1.3 李代数的定义</h4>
<p>李代数由一个集合 <span class="arithmatex">\(\displaystyle \mathbb{V}\)</span>、一个数域 <span class="arithmatex">\(\displaystyle \mathbb{F}\)</span> 和一个二元运算 <span class="arithmatex">\(\displaystyle [,]\)</span> 组成。如果满足以下几条性质，则称 ( <span class="arithmatex">\(\displaystyle \mathbb{V},\mathbb{F},[,]\)</span>) 为一个李代数，记作 <span class="arithmatex">\(\displaystyle \mathfrak{g}\)</span>。</p>
<ol>
<li>封闭性</li>
<li>双线性</li>
<li>自反性 <span class="arithmatex">\(\displaystyle \quad\forall \boldsymbol{X}\in\mathbb{V},[\boldsymbol{X},\boldsymbol{X}]=0\)</span></li>
<li>雅可比等价 <span class="arithmatex">\(\displaystyle \forall X,Y,Z\in\mathbb{V},[X,[Y,Z]]+[Z,[X,Y]]+[Y,[Z,X]]=0.\)</span><br />
其中二元运算被称为李括号。<br />
eg: 叉积是一种李括号</li>
</ol>
<h4 id="414-displaystyle-mathfrakso3">4.1.4 李代数 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span></h4>
<p><span class="arithmatex">\(\displaystyle \boldsymbol{\Phi}=\boldsymbol{\phi}^{\wedge}=\begin{bmatrix}0&amp;-\phi_3&amp;\phi_2\\\\\phi_3&amp;0&amp;-\phi_1\\\\-\phi_2&amp;\phi_1&amp;0\end{bmatrix}\in\mathbb{R}^{3\times3}.\)</span><br />
所以两个向量 <span class="arithmatex">\(\displaystyle \phi_{1},\phi_{2}\)</span> 的李括号为:</p>
<div class="arithmatex">\[
[\phi_1,\phi_2]=(\boldsymbol{\Phi}_1\boldsymbol{\Phi}_2-\boldsymbol{\Phi}_2\boldsymbol{\Phi}_1)^\vee.
\]</div>
<div class="arithmatex">\[
\mathfrak{so}(3)=\left\{\phi\in\mathbb{R}^3,\boldsymbol{\Phi}=\phi^\wedge\in\mathbb{R}^{3\times3}\right\}.
\]</div>
<div class="arithmatex">\[
R=\exp(\phi^{\wedge}).
\]</div>
<h4 id="415-displaystyle-mathfrakse3">4.1.5 李代数 <span class="arithmatex">\(\displaystyle \mathfrak{se}(3)\)</span></h4>
<div class="arithmatex">\[
\mathfrak{se}(3)=\left\{\boldsymbol{\xi}=\begin{bmatrix}\boldsymbol{\rho}\\\boldsymbol{\phi}\end{bmatrix}\in\mathbb{R}^6,\boldsymbol{\rho}\in\mathbb{R}^3,\boldsymbol{\phi}\in\mathfrak{so}(3),\boldsymbol{\xi}^\wedge=\begin{bmatrix}\boldsymbol{\phi}^\wedge&amp;\boldsymbol{\rho}\\\boldsymbol{0}^\mathrm{T}&amp;0\end{bmatrix}\in\mathbb{R}^{4\times4}\right\}.
\]</div>
<p>前三维为平移，后三维为旋转（实质上是 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span> 元素）</p>
<div class="arithmatex">\[
\xi^\wedge=\begin{bmatrix}\phi^\wedge&amp;\rho\\0^\mathrm{T}&amp;0\end{bmatrix}\in\mathbb{R}^{4\times4}.
\]</div>
<p>同样李代数 <span class="arithmatex">\(\displaystyle \mathfrak{se}(3)\)</span> 也有类似于 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span> 的李括号:</p>
<div class="arithmatex">\[
[\xi_1,\xi_2]=\left(\xi_1^\wedge\xi_2^\wedge-\xi_2^\wedge\xi_1^\wedge\right)^\vee.
\]</div>
<h3 id="42">4.2 指数与对数映射</h3>
<h4 id="421-so3">4.2.1 SO(3)上的指数映射</h4>
<ul>
<li>Exponential Map</li>
<li>首先任意矩阵的指数映射可以写成一个泰勒展开（收敛的时候）</li>
</ul>
<div class="arithmatex">\[
\exp(A)=\sum_{n=0}^\infty\frac1{n!}A^n.
\]</div>
<ul>
<li>应用到 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span> 中:</li>
</ul>
<div class="arithmatex">\[
\exp(\phi^\wedge)=\sum_{n=0}^\infty\frac{1}{n!}(\phi^\wedge)^n.
\]</div>
<ul>
<li>我们可以把 <span class="arithmatex">\(\displaystyle \phi\)</span> 表示成 <span class="arithmatex">\(\displaystyle \theta \boldsymbol{a}\)</span>，对于 <span class="arithmatex">\(\displaystyle \boldsymbol{a}^\wedge\)</span>:</li>
</ul>
<div class="arithmatex">\[
\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}=\begin{bmatrix}-a_2^2-a_3^2&amp;a_1a_2&amp;a_1a_3\\\\a_1a_2&amp;-a_1^2-a_3^2&amp;a_2a_3\\\\a_1a_3&amp;a_2a_3&amp;-a_1^2-a_2^2\end{bmatrix}=\boldsymbol{a}\boldsymbol{a}^\mathrm{T}-\boldsymbol{I},
\]</div>
<p>和</p>
<div class="arithmatex">\[
a^{\wedge}a^{\wedge}a^{\wedge}=a^{\wedge}(aa^{\mathrm{T}}-I)=-a^{\wedge}.
\]</div>
<p>于是我们可以化简:</p>
<div class="arithmatex">\[
\begin{aligned}
\exp\left(\phi^\wedge\right)&amp; =\exp\left(\theta\boldsymbol{a}^\wedge\right)=\sum_{n=0}^\infty\frac1{n!}\left(\theta\boldsymbol{a}^\wedge\right)^n \\
&amp;=I+\theta\boldsymbol{a}^{\wedge}+\frac{1}{2!}\theta^{2}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}+\frac{1}{3!}\theta^{3}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}+\frac{1}{4!}\theta^{4}(\boldsymbol{a}^{\wedge})^{4}+\cdots \\
&amp;=\boldsymbol{a}\boldsymbol{a}^{\mathrm{T}}-\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}+\theta\boldsymbol{a}^{\wedge}+\frac{1}{2!}\theta^{2}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge}-\frac{1}{3!}\theta^{3}\boldsymbol{a}^{\wedge}-\frac{1}{4!}\theta^{4}(\boldsymbol{a}^{\wedge})^{2}+\cdots \\
&amp;=\boldsymbol{a}\boldsymbol{a}^{\mathsf{T}}+\underbrace{\left(\theta-\frac{1}{3!}\theta^{3}+\frac{1}{5!}\theta^{5}-\cdots\right)}_{\sin\theta}\boldsymbol{a}^{\wedge}-\underbrace{\left(1-\frac{1}{2!}\theta^{2}+\frac{1}{4!}\theta^{4}-\cdots\right)}_{\cos\theta}\boldsymbol{a}^{\wedge}\boldsymbol{a}^{\wedge} \\
&amp;=a^\wedge a^\wedge+I+\sin\theta a^\wedge-\cos\theta a^\wedge a^\wedge \\
&amp;=(1-\cos\theta)\boldsymbol{a}^\wedge\boldsymbol{a}^\wedge+\boldsymbol{I}+\sin\theta\boldsymbol{a}^\wedge \\
&amp;=\cos\theta\boldsymbol{I}+(1-\cos\theta)\boldsymbol{aa}^\mathrm{T}+\sin\theta\boldsymbol{a}^\mathrm{\wedge}.
\end{aligned}
\]</div>
<p>最后得到:</p>
<div class="arithmatex">\[
\exp(\theta\boldsymbol{a}^\wedge)=\cos\theta\boldsymbol{I}+(1-\cos\theta)\boldsymbol{a}\boldsymbol{a}^\mathrm{T}+\sin\theta\boldsymbol{a}^\wedge.
\]</div>
<p>所以 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span> 就是旋量向量组成的空间，而指数映射即罗德里格斯公式。</p>
<ul>
<li>通过上面的公式，我们可以把 <span class="arithmatex">\(\displaystyle \mathfrak{so}(3)\)</span> 中任意向量对应到 SO (3) 中的旋转矩阵</li>
<li>反过来也是可以的</li>
</ul>
<div class="arithmatex">\[
\phi=\ln\left(\boldsymbol{R}\right)^\vee=\left(\sum_{n=0}^\infty\frac{\left(-1\right)^n}{n+1}\left(\boldsymbol{R}-\boldsymbol{I}\right)^{n+1}\right)^\vee.
\]</div>
<h4 id="422-se-3">4.2.2 SE (3) 上的指数映射</h4>
<p>同样的推导方式:</p>
<div class="arithmatex">\[
\begin{aligned}
\exp\left(\xi^{\wedge}\right)&amp; =\begin{bmatrix}\sum_{n=0}^{\infty}\frac{1}{n!}(\phi^{\wedge})^{n}&amp;\sum_{n=0}^{\infty}\frac{1}{(n+1)!}(\phi^{\wedge})^{n}\rho\\\\\mathbf{0}^{\mathrm{T}}&amp;1\end{bmatrix} \\
&amp;\stackrel{\Delta}{=}\begin{bmatrix}R&amp;J\rho\\\\0^\mathrm{T}&amp;1\end{bmatrix}=T.
\end{aligned}
\]</div>
<div class="arithmatex">\[
\begin{aligned}
\sum_{n=0}^{\infty}\frac{1}{(n+1)!}(\phi^{\wedge})^{n}&amp; =\boldsymbol{I}+\frac{1}{2!}\theta\boldsymbol{a}^{\wedge}+\frac{1}{3!}\theta^{2}{(\boldsymbol{a}^{\wedge})}^{2}+\frac{1}{4!}\theta^{3}{(\boldsymbol{a}^{\wedge})}^{3}+\frac{1}{5!}\theta^{4}{(\boldsymbol{a}^{\wedge})}^{4}\cdots  \\
&amp;=\frac{1}{\theta}\left(\frac{1}{2!}\theta^{2}-\frac{1}{4!}\theta^{4}+\cdots\right)(\boldsymbol{a}^{\wedge})+\frac{1}{\theta}\left(\frac{1}{3!}\theta^{3}-\frac{1}{5}\theta^{5}+\cdots\right)(\boldsymbol{a}^{\wedge})^{2}+\boldsymbol{I} \\
&amp;=\frac1\theta\left(1-\cos\theta\right)\left(\boldsymbol{a}^{\wedge}\right)+\frac{\theta-\sin\theta}\theta\left(\boldsymbol{a}\boldsymbol{a}^{\mathrm{T}}-\boldsymbol{I}\right)+\boldsymbol{I} \\
&amp;=\frac{\sin\theta}\theta\boldsymbol{I}+\left(1-\frac{\sin\theta}\theta\right)\boldsymbol{aa}^\mathrm{T}+\frac{1-\cos\theta}\theta\boldsymbol{a}^\mathrm{\wedge}\overset{\mathrm{def}}{\operatorname*{=}}\boldsymbol{J}.
\end{aligned}
\]</div>
<div class="arithmatex">\[
\boldsymbol{J}=\frac{\sin\theta}{\theta}\boldsymbol{I}+\left(1-\frac{\sin\theta}{\theta}\right)\boldsymbol{a}\boldsymbol{a}^\mathrm{T}+\frac{1-\cos\theta}{\theta}\boldsymbol{a}^\mathrm{\wedge}.
\]</div>
<p>4.28 没看懂<br />
<img alt="image.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409012205650.png" /></p>
<h3 id="43">4.3 李代数求导与扰动模型</h3>
<h4 id="431-bch">4.3.1 BCH 公式与近似形式</h4>
<p>探究如下式子是否成立:</p>
<div class="arithmatex">\[
\ln\left(\exp\left(A\right)\exp\left(B\right)\right)=A+B ?
\]</div>
<p>但它并不成立。两个李代数指数映射乘积的完整形式，由 Baker-Campbell-Hausdorff 给出:</p>
<div class="arithmatex">\[
\ln\left(\exp\left(A\right)\exp\left(B\right)\right)=A+B+\frac{1}{2}\left[A,B\right]+\frac{1}{12}\left[A,\left[A,B\right]\right]-\frac{1}{12}\left[B,\left[A,B\right]\right]+\cdots
\]</div>
<p>特别的，当 <span class="arithmatex">\(\displaystyle \phi_{1}\)</span> 或 <span class="arithmatex">\(\displaystyle \phi_{2}\)</span> 为小量时，小量二次以上的项都可以被忽略，此时的线性近似表达:</p>
<div class="arithmatex">\[
\ln\left(\exp\left(\phi_1^\wedge\right)\exp\left(\phi_2^\wedge\right)\right)^\vee\approx\begin{cases}J_l(\phi_2)^{-1}\phi_1+\phi_2&amp;\text{当}\phi_1\text{为小量},\\J_r(\phi_1)^{-1}\phi_2+\phi_1&amp;\text{当}\phi_2\text{为小量}.\end{cases}
\]</div>
<div class="arithmatex">\[
\boldsymbol{J}_{l}=\frac{\sin\theta}{\theta}\boldsymbol{I}+\left(1-\frac{\sin\theta}{\theta}\right)\boldsymbol{a}\boldsymbol{a}^\mathrm{T}+\frac{1-\cos\theta}{\theta}\boldsymbol{a}^\mathrm{\wedge}.
\]</div>
<div class="arithmatex">\[
\boldsymbol{J}_{\ell}^{-1}=\frac{\theta}{2}\cot\frac{\theta}{2}\boldsymbol{I}+\left(1-\frac{\theta}{2}\cot\frac{\theta}{2}\right)\boldsymbol{a}\boldsymbol{a}^{\mathrm{T}}-\frac{\theta}{2}\boldsymbol{a}^{\wedge}.
\]</div>
<div class="arithmatex">\[
J_{r}(\phi)=J_{l}(-\phi).
\]</div>
<p>于是我们就可以谈论李群乘法与李代数加法的关系了。<br />
<span class="arithmatex">\(\displaystyle \boldsymbol{R}\)</span> 对应 <span class="arithmatex">\(\displaystyle \phi\)</span>，我们给它左乘一个微小旋转，记作 <span class="arithmatex">\(\displaystyle \Delta \boldsymbol{R}\)</span></p>
<div class="arithmatex">\[
\exp\left(\Delta\phi^{\wedge}\right)\exp\left(\phi^{\wedge}\right)=\exp\left(\left(\phi+J_{l}^{-1}\left(\phi\right)\Delta\phi\right)^{\wedge}\right).
\]</div>
<div class="arithmatex">\[
\exp\left(\left(\phi+\Delta\phi\right)^{\wedge}\right)=\exp\left(\left(J_{l}\Delta\phi\right)^{\wedge}\right)\exp\left(\phi^{\wedge}\right)=\exp\left(\phi^{\wedge}\right)\exp\left(\left(J_{r}\Delta\phi\right)^{\wedge}\right).
\]</div>
<p>对于 SE (3) 我们也有:</p>
<div class="arithmatex">\[
\exp\left(\Delta\xi^{\wedge}\right)\exp\left(\xi^{\wedge}\right)\approx\exp\left(\left(\mathcal{J}_{l}^{-1}\Delta\xi+\xi\right)^{\wedge}\right)
\]</div>
<div class="arithmatex">\[
exp\left(\xi^{\wedge}\right)\exp\left(\Delta\xi^{\wedge}\right)\approx\exp\left(\left(\mathcal{J}_{r}^{-1}\Delta\xi+\xi\right)^{\wedge}\right).
\]</div>
<p>唯一不同的是这里的 <span class="arithmatex">\(\displaystyle J_{l}\)</span> 比较复杂。</p>
<h4 id="432-so-3">4.3.2 SO (3) 上的李代数求导</h4>
<div class="arithmatex">\[
z=T\boldsymbol{p}+\boldsymbol{w}.
\]</div>
<p>其中 <span class="arithmatex">\(\displaystyle \boldsymbol{w}\)</span> 是随机噪声。</p>
<div class="arithmatex">\[
e=z-Tp.
\]</div>
<p>假设一共有 N 个这样的路标点和观测:</p>
<div class="arithmatex">\[
\min_{\boldsymbol{T}}J(\boldsymbol{T})=\sum_{i=1}^N\left\|\boldsymbol{z}_i-\boldsymbol{T}\boldsymbol{p}_i\right\|_2^2.
\]</div>
<p>most importantly，我们会构建与位姿有关的函数，并讨论该函数关于位姿的导数，以调整当前的估计值。<br />
使用李代数解决求导问题的思路分为两种:</p>
<ol>
<li>用李代数表示姿态，然后根据李代数加法对李代数求导。</li>
<li>对李群左乘或右乘微小扰动，然后对该扰动求导，称为左扰动和右扰动模型。</li>
</ol>
<h3 id="44">4.4 李代数求导</h3>
<p>要计算 <span class="arithmatex">\(\displaystyle \frac{\partial\left(Rp\right)}{\partial R}\)</span>, 由于SO（3）没有加法，我们转而计算: <span class="arithmatex">\(\displaystyle \frac{\partial\left(\exp\left(\phi^{\wedge}\right)\boldsymbol{p}\right)}{\partial\boldsymbol{\phi}}.\)</span></p>
<div class="arithmatex">\[
\begin{aligned}
\frac{\partial\left(\exp\left(\phi^{\wedge}\right)\boldsymbol{p}\right)}{\partial\phi}&amp; =\lim_{\delta\boldsymbol{\phi}\to0}\frac{\exp\left(\left(\boldsymbol{\phi}+\delta\boldsymbol{\phi}\right)^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p}}{\delta\boldsymbol{\phi}} \\
&amp;=\lim_{\delta\phi\to0}\frac{\exp\left(\left(\boldsymbol{J}_i\delta\boldsymbol{\phi}\right)^\wedge\right)\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^\wedge\right)\boldsymbol{p}}{\delta\boldsymbol{\phi}} \\
&amp;=\lim_{\delta\phi\to0}\frac{\left(\boldsymbol{I}+\left(\boldsymbol{J}_{l}\delta\boldsymbol{\phi}\right)^{\wedge}\right)\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p}}{\delta\phi} \\
&amp;=\lim_{\delta\phi\to0}\frac{\left(\boldsymbol{J}_{l}\delta\phi\right)^{\wedge}\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p}}{\delta\phi} \\
&amp;=\lim_{\delta\boldsymbol{\phi}\to0}\frac{-(\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p})^{\wedge}\boldsymbol{J}_{l}\delta\boldsymbol{\phi}}{\delta\boldsymbol{\phi}}=-(\boldsymbol{R}\boldsymbol{p})^{\wedge}\boldsymbol{J}_{l}.
\end{aligned}
\]</div>
<p>BCH 线性近似+泰勒展开取线性项:</p>
<div class="arithmatex">\[
\frac{\partial\left(\boldsymbol{Rp}\right)}{\partial\boldsymbol{\phi}}=\left(-\boldsymbol{Rp}\right)^{\wedge}\boldsymbol{J}_{l}.
\]</div>
<p>但是这里仍然有 <span class="arithmatex">\(\displaystyle \boldsymbol{J}_{l}\)</span></p>
<h4 id="441">4.4.1 扰动模型（左乘）</h4>
<p><span class="arithmatex">\(\displaystyle \varphi\)</span> 对应左扰动 <span class="arithmatex">\(\displaystyle \Delta \boldsymbol{R}\)</span></p>
<div class="arithmatex">\[
\begin{aligned}
\frac{\partial\left(Rp\right)}{\partial\varphi}&amp; =\lim_{\varphi\to0}\frac{\exp\left(\varphi^{\wedge}\right)\exp\left(\phi^{\wedge}\right)p-\exp\left(\phi^{\wedge}\right)p}{\varphi} \\
&amp;=\lim_{\varphi\to0}\frac{(\boldsymbol{I}+\boldsymbol{\varphi}^{\wedge})\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\phi}^{\wedge}\right)\boldsymbol{p}}{\varphi} \\
&amp;=\lim_{\varphi\to0}\frac{\varphi^\wedge Rp}\varphi=\lim_{\varphi\to0}\frac{-\left(Rp\right)^\wedge\varphi}\varphi=-\left(Rp\right)^\wedge.
\end{aligned}
\]</div>
<h4 id="442-se-3">4.4.2 SE (3) 上的李代数求导</h4>
<div class="arithmatex">\[
\begin{aligned}
\frac{\partial\left(\boldsymbol{T}\boldsymbol{p}\right)}{\partial\delta\boldsymbol{\xi}}&amp;=\lim_{\delta\boldsymbol{\xi}\to\boldsymbol{0}}\frac{\exp\left(\delta\boldsymbol{\xi}^{\wedge}\right)\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}}{\delta\xi} \\
&amp;=\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{\left(\boldsymbol{I}+\delta\boldsymbol{\xi}^{\wedge}\right)\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}-\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}}{\delta\boldsymbol{\xi}} \\
&amp;=\lim_{\delta\boldsymbol{\xi}\to0}\frac{\delta\boldsymbol{\xi}^{\wedge}\exp\left(\boldsymbol{\xi}^{\wedge}\right)\boldsymbol{p}}{\delta\boldsymbol{\xi}} \\
&amp;=\lim_{\delta\boldsymbol{\xi}\to\mathbf{0}}\frac{\begin{bmatrix}\delta\boldsymbol{\phi}^\wedge&amp;\delta\boldsymbol{\rho}\\\\\mathbf{0}^\mathrm{T}&amp;0\end{bmatrix}\begin{bmatrix}\boldsymbol{R}\boldsymbol{p}+\boldsymbol{t}\\\\1\end{bmatrix}}{\delta\boldsymbol{\xi}} \\
&amp;=\lim_{\delta\boldsymbol{\xi}\to\boldsymbol{0}}\frac{\begin{bmatrix}\delta\boldsymbol{\phi}^{\wedge}\left(\boldsymbol{R}\boldsymbol{p}+\boldsymbol{t}\right)+\delta\boldsymbol{\rho}\\\boldsymbol{0}^{\mathrm{T}}\end{bmatrix}}{[\delta\boldsymbol{\rho},\delta\boldsymbol{\phi}]^{\mathrm{T}}}=\begin{bmatrix}\boldsymbol{I}&amp;-(\boldsymbol{R}\boldsymbol{p}+\boldsymbol{t})^{\wedge}\\\boldsymbol{0}^{\mathrm{T}}&amp;\boldsymbol{0}^{\mathrm{T}}\end{bmatrix}\stackrel{\mathrm{def}}{=}(\boldsymbol{T}\boldsymbol{p})^{\odot}.
\end{aligned}
\]</div>
<div class="arithmatex">\[
\frac{\mathrm{d}\begin{bmatrix}a\\b\end{bmatrix}}{\mathrm{d}\begin{bmatrix}x\\y\end{bmatrix}}=\left(\frac{\mathrm{d}[a,b]^\mathrm{T}}{\mathrm{d}\begin{bmatrix}x\\y\end{bmatrix}}\right)^\mathrm{T}=\begin{bmatrix}\frac{\mathrm{d}a}{\mathrm{d}x}&amp;\frac{\mathrm{d}b}{\mathrm{d}x}\\\frac{\mathrm{d}a}{\mathrm{d}y}&amp;\frac{\mathrm{d}b}{\mathrm{d}y}\end{bmatrix}^\mathrm{T}=\begin{bmatrix}\frac{\mathrm{d}a}{\mathrm{d}x}&amp;\frac{\mathrm{d}a}{\mathrm{d}y}\\\frac{\mathrm{d}b}{\mathrm{d}x}&amp;\frac{\mathrm{d}b}{\mathrm{d}y}\end{bmatrix}
\]</div>
<h3 id="45-sophus">4.5 实践:Sophus</h3>
<h4 id="451-sophus">4.5.1 Sophus 的基本使用方法</h4>
<h4 id="452">4.5.2 例子: 评估轨迹的误差</h4>
<ul>
<li>绝对轨迹误差（Absolute Trajectory Error, ATE）</li>
</ul>
<div class="arithmatex">\[
\mathrm{ATE}_{\mathrm{all}}=\sqrt{\frac{1}{N}\sum_{i=1}^{N}\|\log(T_{\mathrm{gt},i}^{-1}T_{\mathrm{esti},i})^{\vee}\|_{2}^{2}},
\]</div>
<p>即均方根误差（Root-Mean-Squared Error, RMSE）</p>
<ul>
<li>绝对平移误差（Average Translational Error）</li>
</ul>
<div class="arithmatex">\[
\mathrm{ATE}_{\mathrm{all}}=\sqrt{\frac{1}{N}\sum_{i=1}^{N}\|\log(T_{\mathrm{gt},i}^{-1}T_{\mathrm{esti},i})^{\vee}\|_{2}^{2}},
\]</div>
<ul>
<li>相对位姿误差（Relative Pose Error, RPE）</li>
</ul>
<div class="arithmatex">\[
\mathrm{RPE}_{\mathrm{all}}=\sqrt{\frac{1}{N-\Delta t}\sum_{i=1}^{N-\Delta t}\|\log\left(\left(\boldsymbol{T}_{\mathrm{gt},i}^{-1}\boldsymbol{T}_{\mathrm{gt},i+\Delta t}\right)\right)^{-1}\left(\boldsymbol{T}_{\mathrm{est},i}^{-1}\boldsymbol{T}_{\mathrm{est},i+\Delta t}\right))^{\vee}\|_{2}^{2}},
\]</div>
<div class="arithmatex">\[
\mathrm{RPE}_{\mathrm{trans}}=\sqrt{\frac{1}{N-\Delta t}\sum_{i=1}^{N-\Delta t}\|\mathrm{trans}\left(\left(T_{gt,i}^{-1}T_{gt,i+\Delta t}\right)\right)^{-1}\left(T_{\mathrm{esti},i}^{-1}T_{\mathrm{esti},i+\Delta t}\right))\|_{2}^{2}}.
\]</div>
<p>代码计算:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>TODO
</span></code></pre></div>
<h3 id="46">4.6 相似变换与李代数</h3>
<p>在这里我们讨论 Sim (3) 和对应的李代数 <span class="arithmatex">\(\displaystyle \mathfrak{sim}(3)\)</span>。<br />
对于位于空间的点 <span class="arithmatex">\(\displaystyle \boldsymbol{p}\)</span>，在相机坐标系下要经过一个相似变换，而非欧氏变换:</p>
<div class="arithmatex">\[
\boldsymbol{p}'=\begin{bmatrix}s\boldsymbol{R}&amp;\boldsymbol{t}\\\boldsymbol{0}^\mathrm{T}&amp;1\end{bmatrix}\boldsymbol{p}=s\boldsymbol{R}\boldsymbol{p}+\boldsymbol{t}.
\]</div>
<div class="arithmatex">\[
\mathrm{Sim}(3)=\left\{S=\begin{bmatrix}sR&amp;t\\\\\mathbf{0}^\mathrm{T}&amp;1\end{bmatrix}\in\mathbb{R}^{4\times4}\right\}.
\]</div>
<div class="arithmatex">\[
\sin(3)=\left\{\zeta|\zeta=\begin{bmatrix}\rho\\\\\phi\\\\\sigma\end{bmatrix}\in\mathbb{R}^7,\zeta^\wedge=\begin{bmatrix}\sigma\boldsymbol{I}+\phi^\wedge&amp;\rho\\\\\mathbf{0}^\mathrm{T}&amp;0\end{bmatrix}\in\mathbb{R}^{4\times4}\right\}.
\]</div>
<div class="arithmatex">\[
\exp\left(\zeta^{\wedge}\right)=\begin{bmatrix}\mathrm{e}^{\sigma}\exp\left(\phi^{\wedge}\right)&amp;J_{s}\rho\\0^{\mathrm{T}}&amp;1\end{bmatrix}.
\]</div>
<p>其中，<span class="arithmatex">\(\displaystyle \boldsymbol{J}_{S}\)</span> 的形式是:</p>
<div class="arithmatex">\[
\begin{aligned}
\text{J}&amp; =\frac{\mathrm{e}^{\sigma}-1}{\sigma}I+\frac{\sigma\mathrm{e}^{\sigma}\sin\theta+\left(1-\mathrm{e}^{\sigma}\cos\theta\right)\theta}{\sigma^{2}+\theta^{2}}\boldsymbol{a}^{\wedge} \\
&amp;+\left(\frac{\mathrm{e}^\sigma-1}{\sigma}-\frac{\left(\mathrm{e}^\sigma\cos\theta-1\right)\sigma+\left(\mathrm{e}^\sigma\sin\theta\right)\theta}{\sigma^2+\theta^2}\right)\boldsymbol{a}^\wedge\boldsymbol{a}^\wedge.
\end{aligned}
\]</div>
<p>于是，李代数与李群的关系:</p>
<div class="arithmatex">\[
s=\mathrm{e}^\sigma, R=\exp(\phi^\wedge), t=J_s\rho.
\]</div>
<div class="arithmatex">\[
\frac{\partial\boldsymbol{Sp}}{\partial\boldsymbol{\zeta}}=\begin{bmatrix}\boldsymbol{I}&amp;-\boldsymbol{q}^\wedge&amp;\boldsymbol{q}\\\boldsymbol{0}^\mathrm{T}&amp;\boldsymbol{0}^\mathrm{T}&amp;0\end{bmatrix}.
\]</div>
<h3 id="47">4.7 习题</h3>
<p>TODO</p>
<h2 id="5">5 相机与图像</h2>
<ul>
<li>观测主要是指相机成像的过程。</li>
</ul>
<h3 id="51">5.1 相机模型</h3>
<ul>
<li>针孔模型</li>
<li>透镜会产生畸变</li>
<li>内参数（Intrinsics）</li>
</ul>
<h4 id="511">5.1.1 针孔相机模型</h4>
<p><img alt="QQ_1725253336267.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409021302607.png" /></p>
<div class="arithmatex">\[
\frac{Z}{f}=-\frac{X}{X'}=-\frac{Y}{Y'}.
\]</div>
<p>去掉负号:</p>
<div class="arithmatex">\[
\frac Zf=\frac X{X^{\prime}}=\frac Y{Y^{\prime}}.
\]</div>
<div class="arithmatex">\[
\begin{aligned}X'&amp;=f\frac{X}{Z}\\Y'&amp;=f\frac{Y}{Z}\end{aligned}.
\]</div>
<p>还有一个像素坐标系，u 轴与 x 轴平行，v 轴与 y 轴平行:</p>
<div class="arithmatex">\[
\begin{cases}u=\alpha X'+c_x\\[2ex]v=\beta Y'+c_y\end{cases}.
\]</div>
<div class="arithmatex">\[
\begin{cases}u=f_x\frac{X}{Z}+c_x\\\\v=f_y\frac{Y}{Z}+c_y\end{cases}.
\]</div>
<div class="arithmatex">\[
Z\begin{pmatrix}u\\\\v\\\\1\end{pmatrix}=\begin{pmatrix}f_x&amp;0&amp;c_x\\0&amp;f_y&amp;c_y\\\\0&amp;0&amp;1\end{pmatrix}\begin{pmatrix}X\\\\Y\\\\Z\end{pmatrix}\overset{\text{def}}{=}\boldsymbol{KP}.
\]</div>
<p>最中间的矩阵称为相机的内参数（Camera Inrinsics）矩阵 <span class="arithmatex">\(\displaystyle \boldsymbol{K}\)</span>。<br />
标定: 确定相机的内参</p>
<div class="arithmatex">\[
Z\boldsymbol{P}_{uv}=Z\begin{bmatrix}u\\\\v\\\\1\end{bmatrix}=\boldsymbol{K}\left(\boldsymbol{R}\boldsymbol{P}_\mathrm{w}+\boldsymbol{t}\right)=\boldsymbol{K}\boldsymbol{T}\boldsymbol{P}_\mathrm{w}.
\]</div>
<p>其中 <span class="arithmatex">\(\displaystyle \boldsymbol{R},\boldsymbol{t}\)</span> 又称为相机的外参数（Camera Extrinsics）</p>
<div class="arithmatex">\[
(\boldsymbol{RP_\mathrm{w}}+\boldsymbol{t})=\underbrace{[X,Y,Z]^\mathrm{T}}_{\text{相机坐标}}\to\underbrace{[X/Z,Y/Z,1]^\mathrm{T}}_{\text{归一化坐标}} .
\]</div>
<ul>
<li>归一化平面</li>
<li>点的深度在投影过程中被丢失了</li>
</ul>
<h4 id="512">5.1.2 畸变模型</h4>
<ul>
<li>畸变 (Distortion 失真) 径向畸变<ul>
<li>筒形畸变</li>
<li>枕形畸变<br />
<img alt="QQ_1725256803201.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409021400509.png" /><br />
<img alt="QQ_1725289917431.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409022312526.png" /></li>
</ul>
</li>
<li>径向畸变即 <span class="arithmatex">\(\displaystyle r\)</span> 变化</li>
<li>切向畸变即 <span class="arithmatex">\(\displaystyle \theta\)</span> 变化<br />
我们可以假设:</li>
</ul>
<div class="arithmatex">\[
\begin{align}
x_{\mathrm{distorted}}&amp;=x(1+k_1r^2+k_2r^4+k_3r^6) \\
y_{\mathrm{distorted}}&amp;=y(1+k_1r^2+k_2r^4+k_3r^6).
\end{align}
\]</div>
<div class="arithmatex">\[
\begin{align}
x_{\mathrm{distorted}}&amp;=x+2p_1xy+p_2(r^2+2x^2) \\
y_{\mathrm{distorted}}&amp;=y+p_1(r^2+2y^2)+2p_2xy
\end{align}
\]</div>
<p>所以我们可以找到一个点在像素平面上的正确位置:</p>
<ol>
<li>将三维空间点投影到归一化图像平面。设它的归一化坐标为 <span class="arithmatex">\(\displaystyle [x, y]^\mathrm{T}\)</span>。</li>
<li>对归一化平面上的点计算径向畸变和切向畸变</li>
</ol>
<div class="arithmatex">\[
\begin{cases}x_\text{distorted}=x(1+k_1r^2+k_2r^4+k_3r^6)+2p_1xy+p_2(r^2+2x^2)\\y_\text{distorted}=y(1+k_1r^2+k_2r^4+k_3r^6)+p_1(r^2+2y^2)+2p_2xy\end{cases}
\]</div>
<ol>
<li>将畸变后的点通过内参数矩阵投影到像素平面，得到该点在图像上的正确位置。</li>
</ol>
<div class="arithmatex">\[
\begin{cases}u=f_xx_\text{distorted}+c_x\\\\v=f_yy_\text{distorted}+c_y\end{cases}.
\]</div>
<p>还有很多的相机模型比如: 仿射模型，透视模型。</p>
<p>总结一下单目相机的成像过程:</p>
<ol>
<li>世界坐标系下有一个固定的点 <span class="arithmatex">\(\displaystyle P\)</span>，世界坐标为 <span class="arithmatex">\(\displaystyle \boldsymbol{P}_{w}\)</span>。</li>
<li>由于相机在运动，它的运动由 <span class="arithmatex">\(\displaystyle \boldsymbol{R},\boldsymbol{t}\)</span> 或变换矩阵 <span class="arithmatex">\(\displaystyle \boldsymbol{T}\in SE(3)\)</span> 描述。<span class="arithmatex">\(\displaystyle P\)</span> 的相机坐标为 <span class="arithmatex">\(\displaystyle \tilde{P_{c}} = \boldsymbol{R}\boldsymbol{P}_{w}+\boldsymbol{t}\)</span>。</li>
<li>这时的 <span class="arithmatex">\(\displaystyle \tilde{\boldsymbol{P}_{c}}\)</span> 的分量是 <span class="arithmatex">\(\displaystyle X,Y,Z\)</span> ，把它们投影到归一化平面 <span class="arithmatex">\(\displaystyle Z = 1\)</span> 上，得到 <span class="arithmatex">\(\displaystyle P\)</span> 的归一化坐标: <span class="arithmatex">\(\displaystyle \boldsymbol{P}_{c} = \left[ \frac{X}{Z},   \frac{Y}{Z}, 1 \right]^\mathrm{T}\)</span>。</li>
<li>有畸变时，根据畸变参数计算 <span class="arithmatex">\(\displaystyle \boldsymbol{P}_{c}\)</span> 发生畸变后的坐标。</li>
<li><span class="arithmatex">\(\displaystyle P\)</span> 的归一化坐标经过内参后，对应到它的像素坐标: <span class="arithmatex">\(\displaystyle \boldsymbol{P}_{uv} = \boldsymbol{K} \boldsymbol{P}_{c}\)</span>。</li>
</ol>
<h4 id="513">5.1.3 双目相机模型</h4>
<p><img alt="QQ_1725291418446.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409022337946.png" /><br />
两者之间的距离称为双目相机的基线</p>
<div class="arithmatex">\[
z=\frac{fb}{d},\quad d\stackrel{\mathrm{def}}{=}u_{\mathrm{L}}-u_{\mathrm{R}}.
\]</div>
<ul>
<li>d 定义为左右图的横坐标之差，称为视差。<ul>
<li>由于视差最小为一个像素，所以双目的深度存在一个理论上的最大值。</li>
</ul>
</li>
</ul>
<h4 id="514-rgb-d">5.1.4 RGB-D 相机模型</h4>
<ul>
<li>红外结构光（Structured lightning）</li>
<li>飞行时间（Time-of-Flight, ToF）<br />
<img alt="QQ_1725291798269.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409022343328.png" /></li>
<li>ToF 相机可以获得整个图像的像素深度</li>
<li>输出彩色图和深度图，生成点云（Point Cloud）</li>
</ul>
<h3 id="52">5.2 图像</h3>
<div class="arithmatex">\[
I(x,y):\mathbb{R}^2\mapsto\mathbb{R}.
\]</div>
<ul>
<li>channel</li>
</ul>
<h3 id="53">5.3 实践: 计算机中的图像</h3>
<h4 id="531-opencv">5.3.1 OpenCV 的基本使用方法</h4>
<p>TODO</p>
<h4 id="532">5.3.2 图像去畸变</h4>
<p>TODO</p>
<h3 id="54-3-d">5.4 实践: 3 D 视觉</h3>
<h4 id="541">5.4.1 双目视觉</h4>
<p>TODO</p>
<h4 id="542-rgb-d">5.4.2 RGB-D 视觉</h4>
<h3 id="55">5.5 习题</h3>
<h2 id="6">6 非线性优化</h2>
<p>前面我们已经搞清楚了运动方程和观测方程的来源，现在我们开始讨论噪声。</p>
<h3 id="61">6.1 状态估计问题</h3>
<h4 id="611">6.1.1 批量状态估计与最大后验估计</h4>
<div class="arithmatex">\[
\begin{cases}\boldsymbol{x}_k=f\left(\boldsymbol{x}_{k-1},\boldsymbol{u}_k\right)+\boldsymbol{w}_k\\\boldsymbol{z}_{k,j}=h\left(\boldsymbol{y}_j,\boldsymbol{x}_k\right)+\boldsymbol{v}_{k,j}\end{cases}.
\]</div>
<div class="arithmatex">\[
s\boldsymbol{z}_{k,j}=\boldsymbol{K}(R_k\boldsymbol{y}_j+\boldsymbol{t}_k).
\]</div>
<p>其中 <span class="arithmatex">\(\displaystyle s\)</span> 为像素点的距离。<br />
我们通常假设噪声项满足零均值的高斯分布:</p>
<div class="arithmatex">\[
\boldsymbol{w}_k\sim\mathcal{N}\left(\boldsymbol{0},\boldsymbol{R}_k\right),\boldsymbol{v}_k\sim\mathcal{N}\left(\boldsymbol{0},\boldsymbol{Q}_{k,j}\right).
\]</div>
<p>有两种方法来解决状态估计问题:</p>
<ul>
<li>用新的数据来更新当前时刻的估计状态，增量/渐进 (incremental) 的方法，或者教滤波器</li>
<li>也可以把数据都攒起来，称为批量 (batch) 的方法<br />
SfM (Structure from Motion)<br />
综合一下就有了滑动窗口估计法</li>
</ul>
<div class="arithmatex">\[
\boldsymbol{x}=\{\boldsymbol{x}_1,\ldots,\boldsymbol{x}_N\},\quad\boldsymbol{y}=\{\boldsymbol{y}_1,\ldots,\boldsymbol{y}_M\}.
\]</div>
<div class="arithmatex">\[
P(\boldsymbol{x},\boldsymbol{y}|z,\boldsymbol{u}).
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{x},\boldsymbol{y}|\boldsymbol{z},\boldsymbol{u}\right)=\frac{P\left(\boldsymbol{z},\boldsymbol{u}|\boldsymbol{x},\boldsymbol{y}\right)P\left(\boldsymbol{x},\boldsymbol{y}\right)}{P\left(\boldsymbol{z},\boldsymbol{u}\right)}\propto\underbrace{P\left(\boldsymbol{z},\boldsymbol{u}|\boldsymbol{x},\boldsymbol{y}\right)}_{\text{似然}}\underbrace{P\left(\boldsymbol{x},\boldsymbol{y}\right)}_{\text{先验}}.
\]</div>
<p>可以先求一个状态最优估计:</p>
<div class="arithmatex">\[
(\boldsymbol{x},\boldsymbol{y})^*_{\mathrm{MAP}}=\arg\max P(\boldsymbol{x},\boldsymbol{y}|\boldsymbol{z},\boldsymbol{u})=\arg\max P(\boldsymbol{z},\boldsymbol{u}|\boldsymbol{x},\boldsymbol{y})P(\boldsymbol{x},\boldsymbol{y}).
\]</div>
<p>求解最大后验概率等价于最大化似然和先验的乘积。<br />
但如果没有的先验，那么可以求解最大似然估计 (Maximize Likelihood Estimation， MLE):</p>
<div class="arithmatex">\[
(\boldsymbol{x},\boldsymbol{y})^*{}_{\mathrm{MLE}}=\arg\max P(\boldsymbol{z},\boldsymbol{u}|\boldsymbol{x},\boldsymbol{y}).
\]</div>
<p>最大似然估计: 在什么样的状态下，最可能产生现在观测到的数据。</p>
<h4 id="612">6.1.2 最小二乘的引出</h4>
<p>对于某一次观测:</p>
<div class="arithmatex">\[
z_{k,j}=h\left(y_{j},x_{k}\right)+v_{k,j},
\]</div>
<div class="arithmatex">\[
P(\boldsymbol{z}_{j,k}|\boldsymbol{x}_k,\boldsymbol{y}_j)=N\left(h(\boldsymbol{y}_j,\boldsymbol{x}_k),\boldsymbol{Q}_{k,j}\right).
\]</div>
<p>可以使用最小化负对数来求一个高斯分布的最大似然。</p>
<div class="arithmatex">\[
P\left(\boldsymbol{x}\right)=\frac{1}{\sqrt{\left(2\pi\right)^{N}\det\left(\boldsymbol{\Sigma}\right)}}\exp\left(-\frac{1}{2}(\boldsymbol{x}-\boldsymbol{\mu})^{\mathrm{T}}\boldsymbol{\Sigma}^{-1}\left(\boldsymbol{x}-\boldsymbol{\mu}\right)\right).
\]</div>
<div class="arithmatex">\[
-\ln\left(P\left(\boldsymbol{x}\right)\right)=\frac12\ln\left(\left(2\pi\right)^N\det\left(\boldsymbol{\Sigma}\right)\right)+\frac12\left(\boldsymbol{x}-\boldsymbol{\mu}\right)^\mathrm{T}\boldsymbol{\Sigma}^{-1}\left(\boldsymbol{x}-\boldsymbol{\mu}\right).
\]</div>
<div class="arithmatex">\[
\begin{aligned}
(x_{k},y_{j})^{*}&amp; =\arg\max\mathcal{N}(h(\boldsymbol{y}_{j},\boldsymbol{x}_{k}),\boldsymbol{Q}_{k,j}) \\
&amp;=\arg\min\left(\left(\boldsymbol{z}_{k,j}-h\left(\boldsymbol{x}_k,\boldsymbol{y}_j\right)\right)^\mathrm{T}\boldsymbol{Q}_{k,j}^{-1}\left(\boldsymbol{z}_{k,j}-h\left(\boldsymbol{x}_k,\boldsymbol{y}_j\right)\right)\right).
\end{aligned}
\]</div>
<p>该式等价于最小化噪声项的一个二次型，马哈拉诺比斯距离 (Mahalanobis distance)。其中 <span class="arithmatex">\(\displaystyle \boldsymbol{Q}_{k,j}^{-1}\)</span> 叫信息矩阵，即高斯分布协方差矩阵之逆。<br />
假设各个时刻的输入和观测都是独立的，那么:</p>
<div class="arithmatex">\[
P\left(\boldsymbol{z},\boldsymbol{u}|\boldsymbol{x},\boldsymbol{y}\right)=\prod_kP\left(\boldsymbol{u}_k|\boldsymbol{x}_{k-1},\boldsymbol{x}_k\right)\prod_{k,j}P\left(\boldsymbol{z}_{k,j}|\boldsymbol{x}_k,\boldsymbol{y}_j\right),
\]</div>
<div class="arithmatex">\[
\begin{align}
e_{u,k} &amp;=\boldsymbol{x}_k-f\left(\boldsymbol{x}_{k-1},\boldsymbol{u}_k\right) \\
e_{z,j,k} &amp;=\boldsymbol{z}_{k,j}-h\left(\boldsymbol{x}_k,\boldsymbol{y}_j\right), 
\end{align}
\]</div>
<div class="arithmatex">\[
\min J(\boldsymbol{x},\boldsymbol{y})=\sum_{k}\boldsymbol{e}_{\boldsymbol{u},k}^{\mathrm{T}}\boldsymbol{R}_{k}^{-1}\boldsymbol{e}_{\boldsymbol{u},k}+\sum_{k}\sum_{j}\boldsymbol{e}_{\boldsymbol{z},k,j}^{\mathrm{T}}\boldsymbol{Q}_{k,j}^{-1}\boldsymbol{e}_{\boldsymbol{z},k,j}.
\]</div>
<p>这样就得到了一个最小二乘问题 (Least Square Problem) </p>
<ul>
<li>整个问题有一种稀疏的形式。</li>
<li>用李代数表示增量会有无约束的优势。</li>
<li>用二次型度量误差，那么误差的分布会影响此项在整个问题中的权重。<br />
接下俩讲一些非线性优化的基本知识，来帮助我们求解这个最小二乘问题。</li>
</ul>
<h4 id="613">6.1.3 例子: 批量状态估计</h4>
<p>考虑一个非常简单的离散时间系统:</p>
<div class="arithmatex">\[
\begin{aligned}&amp;x_{k}=x_{k-1}+u_{k}+w_{k},&amp;&amp;\boldsymbol{w}_{k}\sim\mathcal{N}\left(0,\boldsymbol{Q}_{k}\right)\\&amp;\boldsymbol{z}_{k}=\boldsymbol{x}_{k}+\boldsymbol{n}_{k},&amp;&amp;\boldsymbol{n}_{k}\sim\mathcal{N}\left(0,\boldsymbol{R}_{k}\right)\end{aligned}
\]</div>
<div class="arithmatex">\[
\begin{gathered}
x_{map}^{*} =\arg\max P(\boldsymbol{x}|\boldsymbol{u},\boldsymbol{z})=\arg\max P(\boldsymbol{u},\boldsymbol{z}|\boldsymbol{x}) \\
=\prod_{k=1}^3P(\boldsymbol{u}_k|\boldsymbol{x}_{k-1},\boldsymbol{x}_k)\prod_{k=1}^3P(\boldsymbol{z}_k|\boldsymbol{x}_k), 
\end{gathered}
\]</div>
<p>而对于具体的每一项，我们有:</p>
<div class="arithmatex">\[
P(\boldsymbol{u}_k|\boldsymbol{x}_{k-1},\boldsymbol{x}_k)=\mathcal{N}(\boldsymbol{x}_k-\boldsymbol{x}_{k-1},\boldsymbol{Q}_k),
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{z}_{k}|\boldsymbol{x}_{k}\right)=\mathcal{N}\left(\boldsymbol{x}_{k},\boldsymbol{R}_{k}\right).
\]</div>
<p>于是，我们可以构建误差变量:</p>
<div class="arithmatex">\[
e_{\boldsymbol{u},k}=\boldsymbol{x}_k-\boldsymbol{x}_{k-1}-\boldsymbol{u}_k,\quad\boldsymbol{e}_{z,k}=\boldsymbol{z}_k-\boldsymbol{x}_k,
\]</div>
<p>于是最小二乘的目标函数为:</p>
<div class="arithmatex">\[
\min\sum_{k=1}^{3}e_{u,k}^{\mathrm{T}}Q_{k}^{-1}e_{u,k}+\sum_{k=1}^{3}e_{z,k}^{\mathrm{T}}R_{k}^{-1}e_{z,k}.
\]</div>
<p>定义向量 <span class="arithmatex">\(\displaystyle \boldsymbol{y} = [\boldsymbol{u},\boldsymbol{z}]^\mathrm{T}\)</span></p>
<div class="arithmatex">\[
y-Hx=e\sim\mathcal{N}(\mathbf{0},\boldsymbol{\Sigma}).
\]</div>
<div class="arithmatex">\[
H=\begin{bmatrix}1&amp;-1&amp;0&amp;0\\0&amp;1&amp;-1&amp;0\\0&amp;0&amp;1&amp;-1\\\hline0&amp;1&amp;0&amp;0\\0&amp;0&amp;1&amp;0\\0&amp;0&amp;0&amp;1\end{bmatrix},
\]</div>
<p>且 <span class="arithmatex">\(\displaystyle \Sigma = diag(\boldsymbol{Q_{1}},\boldsymbol{Q_{2}},\boldsymbol{Q_{3}},\boldsymbol{R_{1}},\boldsymbol{R_{2}},\boldsymbol{R_{3}})\)</span>。<br />
问题就转化成:</p>
<div class="arithmatex">\[
x_{\mathrm{map}}^*=\arg\min e^{\mathrm{T}}\Sigma^{-1}e,
\]</div>
<p>它的唯一解是:</p>
<div class="arithmatex">\[
x_{\mathrm{map}}^{*}=(H^{\mathrm{T}}\Sigma^{-1}H)^{-1}H^{\mathrm{T}}\Sigma^{-1}y.
\]</div>
<h3 id="62">6.2 非线性最小二乘</h3>
<p>先考虑一个简单的最小二乘问题:</p>
<div class="arithmatex">\[
\min_{x}F(x)=\frac12\|f\left(x\right)\|_{2}^{2}.`
\]</div>
<p>对于不方便直接求解的最小二乘问题，我们可以用迭代的方式，从一个初始值出发，不断地更新当前的优化变量，使目标函数下降:</p>
<ol>
<li>给定某个初始值 <span class="arithmatex">\(\displaystyle \boldsymbol{x_{0}}\)</span>。</li>
<li>对于第 <span class="arithmatex">\(\displaystyle k\)</span> 次迭代，寻找一个增量 <span class="arithmatex">\(\displaystyle \Delta x_{k}\)</span>，使得 <span class="arithmatex">\(\displaystyle \left\|f\left(\boldsymbol{x}_{k}+\Delta\boldsymbol{x}_{k}\right)\right\|_{2}^{2}\)</span> 达到最小值。</li>
<li>若 <span class="arithmatex">\(\displaystyle \Delta x_k\)</span> 足够小，则停止。</li>
<li>否则，令 <span class="arithmatex">\(\displaystyle x_{k+1} = x_{k} + \Delta x_{k}\)</span>，返回第二步<br />
于是求解导函数为零 -&gt; 寻找下降增量 <span class="arithmatex">\(\displaystyle \Delta x_{k}\)</span> </li>
</ol>
<p>下面是一些广泛使用的结果。</p>
<h4 id="621">6.2.1 一阶和二阶梯度法</h4>
<p>使用泰勒展开:</p>
<div class="arithmatex">\[
F(\boldsymbol{x}_k+\Delta\boldsymbol{x}_k)\approx F(\boldsymbol{x}_k)+\boldsymbol{J}\left(\boldsymbol{x}_k\right)^\mathrm{T}\Delta\boldsymbol{x}_k+\frac{1}{2}\Delta\boldsymbol{x}_k^\mathrm{T}\boldsymbol{H}(\boldsymbol{x}_k)\Delta\boldsymbol{x}_k.
\]</div>
<p>其中 <span class="arithmatex">\(\displaystyle \boldsymbol{J}(x_{k})\)</span> 是 <span class="arithmatex">\(\displaystyle F(x)\)</span> 关于 <span class="arithmatex">\(\displaystyle x\)</span> 的一阶导数（梯度、雅可比矩阵），<span class="arithmatex">\(\displaystyle \boldsymbol{H}\)</span> 是二阶导数（海塞矩阵）。</p>
<div class="arithmatex">\[
\Delta\boldsymbol{x}^*=-\boldsymbol{J}(\boldsymbol{x}_k).
\]</div>
<div class="arithmatex">\[
\Delta\boldsymbol{x}^*=\arg\min\left(F\left(\boldsymbol{x}\right)+\boldsymbol{J}\left(\boldsymbol{x}\right)^\mathrm{T}\Delta\boldsymbol{x}+\frac{1}{2}\Delta\boldsymbol{x}^\mathrm{T}\boldsymbol{H}\Delta\boldsymbol{x}\right).
\]</div>
<p>对 <span class="arithmatex">\(\displaystyle \Delta x\)</span> 求导，并令它等于零，得到:</p>
<div class="arithmatex">\[
J+H\Delta x=\mathbf{0}\Rightarrow H\Delta x=-J.
\]</div>
<p>这个方法又叫牛顿法。</p>
<h4 id="622">6.2.2 高斯牛顿法</h4>
<p>换一个函数展开:</p>
<div class="arithmatex">\[
f\left(x+\Delta x\right)\approx f\left(x\right)+\boldsymbol{J}\left(\boldsymbol{x}\right)^{\mathrm{T}}\Delta\boldsymbol{x}.
\]</div>
<div class="arithmatex">\[
\Delta x^{*}=\arg\min_{\Delta x}\frac{1}{2}\Big\|f\left(\boldsymbol{x}\right)+\boldsymbol{J}\left(\boldsymbol{x}\right)^{\mathrm{T}}\Delta\boldsymbol{x}\Big\|^{2}.
\]</div>
<div class="arithmatex">\[
\begin{aligned}
\frac12\left\|f\left(\boldsymbol{x}\right)+\boldsymbol{J}\left(\boldsymbol{x}\right)^\mathrm{T}\Delta\boldsymbol{x}\right\|^2&amp; =\frac12\Big(f\left(\boldsymbol{x}\right)+\boldsymbol{J}\left(\boldsymbol{x}\right)^\mathrm{T}\Delta\boldsymbol{x}\Big)^\mathrm{T}\Big(f\left(\boldsymbol{x}\right)+\boldsymbol{J}\left(\boldsymbol{x}\right)^\mathrm{T}\Delta\boldsymbol{x}\Big) \\
&amp;=\frac12\left(\|f(\boldsymbol{x})\|_2^2+2f\left(\boldsymbol{x}\right)\boldsymbol{J}(\boldsymbol{x})^\intercal\Delta\boldsymbol{x}+\Delta\boldsymbol{x}^\intercal\boldsymbol{J}(\boldsymbol{x})\boldsymbol{J}(\boldsymbol{x})^\intercal\Delta\boldsymbol{x}\right).
\end{aligned}
\]</div>
<div class="arithmatex">\[
\boldsymbol{J}(\boldsymbol{x})f\left(\boldsymbol{x}\right)+\boldsymbol{J}(\boldsymbol{x})\boldsymbol{J}^\mathrm{T}\left(\boldsymbol{x}\right)\Delta\boldsymbol{x}=\boldsymbol{0}.
\]</div>
<div class="arithmatex">\[
\underbrace{\boldsymbol{J}(\boldsymbol{x})\boldsymbol{J}^{\intercal}}_{\boldsymbol{H}(\boldsymbol{x})}\left(\boldsymbol{x}\right)\Delta\boldsymbol{x}=\underbrace{-\boldsymbol{J}(\boldsymbol{x})f\left(\boldsymbol{x}\right)}_{\boldsymbol{g}(\boldsymbol{x})}.
\]</div>
<p>增量方程 or Gauss-Newton equation or Normal equation</p>
<div class="arithmatex">\[
H\Delta x=g.
\]</div>
<p>求解增量方程是整个优化问题的核心所在<br />
总结一下:</p>
<ol>
<li>给定初始值 <span class="arithmatex">\(\displaystyle \boldsymbol{x}_{0}\)</span>。</li>
<li>对于第 <span class="arithmatex">\(\displaystyle k\)</span> 次迭代，求解当前的雅可比矩阵 <span class="arithmatex">\(\displaystyle \boldsymbol{J}(x)\)</span> 和误差 <span class="arithmatex">\(\displaystyle f(\boldsymbol{x}_{k})\)</span>。</li>
<li>求解增量方程: <span class="arithmatex">\(\displaystyle \boldsymbol{H} \Delta x_{k} = \boldsymbol{g}\)</span>。</li>
<li>若 <span class="arithmatex">\(\displaystyle \Delta x_{k}\)</span> 足够小，则停止。否则，令 <span class="arithmatex">\(\displaystyle x_{k+1} = x_{k}+ \Delta x_{k}\)</span>，返回第 2 步。</li>
</ol>
<h4 id="623">6.2.3 列文伯格——马夸尔特方法</h4>
<p>Damped Newton Method<br />
Trust Region<br />
Trust Region Method</p>
<div class="arithmatex">\[
\rho=\frac{f\left(\boldsymbol{x}+\Delta\boldsymbol{x}\right)-f\left(\boldsymbol{x}\right)}{\boldsymbol{J}\left(\boldsymbol{x}\right)^{\intercal}\Delta\boldsymbol{x}}.
\]</div>
<p>框架:</p>
<ol>
<li>给定初始值 <span class="arithmatex">\(\displaystyle \boldsymbol{x}_{0}\)</span>，以及初始优化半径 <span class="arithmatex">\(\displaystyle \mu\)</span>。</li>
<li>对于第 <span class="arithmatex">\(\displaystyle k\)</span> 次迭代，在高斯牛顿法的基础上加上信赖区域，求解: <span class="arithmatex">\(\displaystyle \min_{\Delta\boldsymbol{x}_{k}}\frac{1}{2}\Big\|f\left(\boldsymbol{x}_{k}\right)+\boldsymbol{J}\left(\boldsymbol{x}_{k}\right)^{\mathrm{T}}\Delta\boldsymbol{x}_{k}\Big\|^{2},\quad\mathrm{s.t.}\quad\left\|\boldsymbol{D}\Delta\boldsymbol{x}_{k}\right\|^{2}\leqslant\mu,\)</span> </li>
<li>计算 <span class="arithmatex">\(\displaystyle \rho\)</span></li>
<li>对于 <span class="arithmatex">\(\displaystyle \frac{1}{4}  \frac{3}{4}\)</span> 进行分类讨论</li>
<li>判断阈值，循环</li>
</ol>
<p>这是带不等式约束的优化问题:</p>
<div class="arithmatex">\[
\mathcal{L}(\Delta\boldsymbol{x}_{k},\lambda)=\frac{1}{2}\left\|f\left(\boldsymbol{x}_{k}\right)+\boldsymbol{J}\left(\boldsymbol{x}_{k}\right)^{\mathrm{T}}\Delta\boldsymbol{x}_{k}\right\|^{2}+\frac{\lambda}{2}\left(\left\|\boldsymbol{D}\Delta\boldsymbol{x}_{k}\right\|^{2}-\mu\right).
\]</div>
<div class="arithmatex">\[
(H+\lambda D^\mathrm{T}D) \Delta x_k=g.
\]</div>
<h3 id="63">6.3 实践: 曲线拟合问题</h3>
<h4 id="631">6.3.1 手写高斯牛顿法</h4>
<p>TODO</p>
<h4 id="632-ceres">6.3.2 使用 Ceres 进行曲线拟合</h4>
<p>TODO</p>
<h4 id="633-g2o">6.3.3 使用 g2o进行曲线拟合</h4>
<p>TODO</p>
<h2 id="7-1">7 视觉里程计 1</h2>
<h3 id="71">7.1 特征点法</h3>
<ul>
<li>特征点法<ul>
<li>两视图几何（Two-view geometry）</li>
</ul>
</li>
<li>直接法</li>
</ul>
<h4 id="711">7.1.1 特征点</h4>
<ul>
<li>如何根据图像估计相机运动</li>
<li>路标: 图像特征</li>
<li>特征点在相机运动之后保持稳定<ul>
<li>角点</li>
</ul>
</li>
<li>人工设计的特征点:<ul>
<li>Repeatability</li>
<li>Distinctiveness</li>
<li>Efficiency</li>
<li>Locality</li>
</ul>
</li>
<li>由两部分组成:<ul>
<li>关键点（Key-point）</li>
<li>描述子（Descriptor）</li>
</ul>
</li>
<li>SIFT (尺度不变特征变换，Scale-Invariant Feature Transform)<ul>
<li>考虑充分，但是计算量比较大</li>
</ul>
</li>
<li>ORB (Oriented FAST and Rotated BRIEF)</li>
</ul>
<h4 id="712-orb">7.1.2 ORB 特征</h4>
<ol>
<li>FAST 角点提取: ORB 中计算了特征点的主方向，为后续的 BRIEF 描述子增加了旋转不变特性</li>
<li>BRIEF 描述子: 对前一步提取出特征点的周围图像区域进行描述。使用先前计算的方向信息。</li>
<li>FAST 关键点<br />
<img alt="QQ_1725463627449.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409042327348.png" /><br />
Non-maximal suppression<br />
尺度不变性由构建图像金字塔<br />
特征的旋转: Intensity Centroid<br />
旋转方面，我们计算特征点附近的图像灰度质心。</li>
<li>定义图像的矩: <span class="arithmatex">\(\displaystyle m_{pq} = \Sigma _{x,y \in B} x^p x^q I(x, y),p,q \in \{0, 1\}\)</span>.</li>
<li>找到图像块的质心: <span class="arithmatex">\(\displaystyle C=\left(\frac{m_{10}}{m_{00}},\frac{m_{01}}{m_{00}}\right).\)</span></li>
<li>得到一个几何中心到质心的方向向量: <span class="arithmatex">\(\displaystyle \theta=\arctan(m_{01}/m_{10}).\)</span></li>
<li>BRIEF 描述子<br />
二进制表达+随机选点比较</li>
</ol>
<h4 id="713">7.1.3 特征匹配</h4>
<p>data association<br />
Brute-Force Matcher</p>
<ul>
<li>通过测量描述子的距离来去最近的一个作为匹配点。描述子距离表示了两个特征之间的相似程度。<ul>
<li>欧氏距离</li>
<li>汉明距离<ul>
<li>两个二进制串的不同位数的个数</li>
</ul>
</li>
</ul>
</li>
<li>快速近似最近邻（FLANN）</li>
</ul>
<h3 id="72">7.2 实践: 特征提取和匹配</h3>
<h4 id="721-opencv-orb">7.2.1 OpenCV 的 ORB 特征</h4>
<p>TODO</p>
<h4 id="722-orb">7.2.2 手写 ORB 特征</h4>
<h4 id="723">7.2.3 计算相机运动</h4>
<ol>
<li>当相机为单目时，我们通过对极几何来解决两组 2 D 点估计运动的问题</li>
<li>当相机为双目、RGB-D 时，通过 ICP 来解决两组 3 D 点估计运动的问题</li>
<li>一个是 2 D 一个是 3 D 时，通过 PnP 来求解</li>
</ol>
<h3 id="73-d-2-d">7.3 D-2 D: 对极几何</h3>
<h4 id="731">7.3.1 对极约束</h4>
<ul>
<li>Epipolar plane</li>
<li>Epipoles</li>
<li>Epipolar line<br />
<img alt="QQ_1725464590361.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409042343436.png" /></li>
</ul>
<div class="arithmatex">\[
P=[X,Y,Z]^{\mathrm{T}}.
\]</div>
<div class="arithmatex">\[
s_{1}p_{1}=KP,\quad s_{2}p_{2}=K\left(RP+t\right).
\]</div>
<p>成投影关系:尺度意义下相等 (equal up to scale)</p>
<div class="arithmatex">\[
sp\simeq p.
\]</div>
<div class="arithmatex">\[
p_1\simeq KP,\quad p_2\simeq K\left(RP+t\right).
\]</div>
<div class="arithmatex">\[
x_1=K^{-1}p_1,\quad x_2=K^{-1}p_2.
\]</div>
<div class="arithmatex">\[
x_2\simeq Rx_1+t.
\]</div>
<div class="arithmatex">\[
t^{\wedge}x_{2}\simeq t^{\wedge}Rx_{1}.
\]</div>
<div class="arithmatex">\[
x_2^\mathrm{T}t^\wedge x_2\simeq x_2^\mathrm{T}t^\wedge Rx_1.
\]</div>
<div class="arithmatex">\[
x_2^\mathrm{T}t^\wedge Rx_1=0.
\]</div>
<div class="arithmatex">\[
p_2^\mathrm{T}K^{-\mathrm{T}}t^\wedge RK^{-1}p_1=0.
\]</div>
<p>对极约束</p>
<div class="arithmatex">\[
E=t^{\wedge}R,\quad F=K^{-\mathrm{T}}EK^{-1},\quad x_{2}^{\mathrm{T}}Ex_{1}=p_{2}^{\mathrm{T}}Fp_{1}=0.
\]</div>
<ol>
<li>根据配对点的像素位置求出 <span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span> 或者 <span class="arithmatex">\(\displaystyle \boldsymbol{F}\)</span>。</li>
<li>根据 <span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span> 或者 <span class="arithmatex">\(\displaystyle \boldsymbol{F}\)</span> 求出 <span class="arithmatex">\(\displaystyle \boldsymbol{R},\boldsymbol{t}\)</span>。<br />
<span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span> 和 <span class="arithmatex">\(\displaystyle \boldsymbol{F}\)</span> 只相差了相机内参，所以实践中往往使用形式更简单的 <span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span>。</li>
</ol>
<h4 id="732">7.3.2 本质矩阵</h4>
<p>本质矩阵: <span class="arithmatex">\(\displaystyle E=t^{\wedge}R\)</span></p>
<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span> 不同尺度下是等价的。</li>
<li>可以证明，本质矩阵 <span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span> 的奇异值必定是 <span class="arithmatex">\(\displaystyle [\sigma,\sigma,0]^\mathrm{T}\)</span> 的形式，这称为本质矩阵的内在性质。</li>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{E}\)</span> 实际上有 5 个自由度。<br />
八点法 (Eight-point-algorithm)<br />
考虑一堆配对点，它们的归一化坐标为 <span class="arithmatex">\(\displaystyle x_{1}=[u_{1},v_{1},1]^{\mathrm{T}},x_{2}=[u_{2},v_{2},1]^{\mathrm{T}}\)</span>。根据对极约束，有</li>
</ul>
<div class="arithmatex">\[
\begin{pmatrix}u_2,v_2,1\end{pmatrix}\begin{pmatrix}e_1&amp;e_2&amp;e_3\\\\e_4&amp;e_5&amp;e_6\\\\e_7&amp;e_8&amp;e_9\end{pmatrix}\begin{pmatrix}u_1\\\\v_1\\\\1\end{pmatrix}=0.
\]</div>
<div class="arithmatex">\[
\boldsymbol{e}=[e_1,e_2,e_3,e_4,e_5,e_6,e_7,e_8,e_9]^\mathrm{T},
\]</div>
<div class="arithmatex">\[
[u_2u_1,u_2v_1,u_2,v_2u_1,v_2v_1,v_2,u_1,v_1,1]\cdot e=0.
\]</div>
<p>我们把所有点都放到一个方程中，变成线性方程组:</p>
<div class="arithmatex">\[
\begin{pmatrix}u_2^1u_1^1&amp;u_2^1v_1^1&amp;u_2^1&amp;v_2^1u_1^1&amp;v_2^1v_1^1&amp;v_2^1&amp;u_1^1&amp;v_1^1&amp;1\\u_2^2u_1^2&amp;u_2^2v_1^2&amp;u_2^2&amp;v_2^2u_1^2&amp;v_2^2v_1^2&amp;v_2^2&amp;u_1^2&amp;v_1^2&amp;1\\\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\vdots&amp;\vdots\\u_2^8u_1^8&amp;u_2^8v_1^8&amp;u_2^8&amp;v_2^8u_1^8&amp;v_2^8u_1^8&amp;u_1^8&amp;v_1^8&amp;1\end{pmatrix}\begin{pmatrix}e_1\\e_2\\e_3\\e_4\\e_5\\e_6\\e_7\\e_8\\e_9\end{pmatrix}=0.
\]</div>
<div class="arithmatex">\[
E=U\Sigma V^{\mathrm{T}},
\]</div>
<div class="arithmatex">\[
\begin{aligned}&amp;t_{1}^{\wedge}=UR_{Z}(\frac{\pi}{2})\Sigma U^{\mathrm{T}},\quad R_{1}=UR_{Z}^{\mathrm{T}}(\frac{\pi}{2})V^{\mathrm{T}}\\&amp;t_{2}^{\wedge}=UR_{Z}(-\frac{\pi}{2})\Sigma U^{\mathrm{T}},\quad R_{2}=UR_{Z}^{\mathrm{T}}(-\frac{\pi}{2})V^{\mathrm{T}}.\end{aligned}
\]</div>
<p><img alt="QQ_1725466210372.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409050010777.png" /></p>
<div class="arithmatex">\[
\boldsymbol{E}=\boldsymbol{U}\mathrm{diag}(\frac{\sigma_1+\sigma_2}2,\frac{\sigma_1+\sigma_2}2,0)\boldsymbol{V}^\mathrm{T}.
\]</div>
<h4 id="733">7.3.3 单应矩阵</h4>
<p>Homography</p>
<h2 id="8-2">8 视觉里程计 2</h2>
<h3 id="81">8.1 直接法的引出</h3>
<ul>
<li>特征点法的缺点<ul>
<li>关键点的提取与描述子的计算非常耗时</li>
<li>使用特征点时，会忽略除特征点以外的所有信息</li>
<li>相机有时会运动到特征缺失的地方</li>
</ul>
</li>
<li>那么如何克服这些缺点<ul>
<li>保留特征点，但只计算关键点，不计算描述子。使用光流法（Optical Flow）跟踪特征点的运动</li>
<li>只计算关键点，不计算描述子。使用直接法（Direct Method）</li>
</ul>
</li>
<li>第一种方法仍然使用特征点，只是把匹配描述字替换成了光流跟踪，估计相机运动时仍然是哦那个对极几何、PnP 或 ICP 算法（即，我们需要提到角点）</li>
<li>特征点法:通过最小化重投影误差（Reprojection error）优化相机运动</li>
<li>直接法: 通过最小化光度误差（Photometric error）</li>
<li>只要场景中存在明暗变化就可以工作<ul>
<li>稠密</li>
<li>半稠密</li>
<li>稀疏</li>
</ul>
</li>
</ul>
<h3 id="82-d">8.2 D 光流</h3>
<ul>
<li>计算部分像素运动: 稀疏光流<ul>
<li>Lucas-Kanasde</li>
</ul>
</li>
<li>计算所有像素运动: 稠密光流<ul>
<li>Horn-Schunck<br />
<img alt="QQ_1725858685580.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409091311387.png" /><br />
<strong>Lucas-Kanade 光流</strong></li>
</ul>
</li>
<li>灰度不变假设: 同一个空间点的像素灰度值，在各个图像中时固定不变的</li>
</ul>
<div class="arithmatex">\[
I(x+\mathrm{d}x,y+\mathrm{d}y,t+\mathrm{d}t)=I(x,y,t).
\]</div>
<div class="arithmatex">\[
\boldsymbol{I}\left(x+\mathrm{d}x,y+\mathrm{d}y,t+\mathrm{d}t\right)\approx\boldsymbol{I}\left(x,y,t\right)+\frac{\partial\boldsymbol{I}}{\partial x}\mathrm{d}x+\frac{\partial\boldsymbol{I}}{\partial y}\mathrm{d}y+\frac{\partial\boldsymbol{I}}{\partial t}\mathrm{d}t.
\]</div>
<div class="arithmatex">\[
\frac{\partial\boldsymbol{I}}{\partial x}\frac{\mathrm{d}x}{\mathrm{d}t}+\frac{\partial\boldsymbol{I}}{\partial y}\frac{\mathrm{d}y}{\mathrm{d}t}=-\frac{\partial\boldsymbol{I}}{\partial t}.
\]</div>
<div class="arithmatex">\[
\begin{bmatrix}I_x&amp;I_y\end{bmatrix}\begin{bmatrix}u\\\\v\end{bmatrix}=-I_t.
\]</div>
<div class="arithmatex">\[
\begin{bmatrix}I_x&amp;I_y\end{bmatrix}_k\begin{bmatrix}u\\\\v\end{bmatrix}=-I_{tk},\quad k=1,\ldots,w^2.
\]</div>
<div class="arithmatex">\[
A\begin{bmatrix}u\\\\v\end{bmatrix}=-b.
\]</div>
<div class="arithmatex">\[
\begin{bmatrix}u\\\\v\end{bmatrix}^*=-\begin{pmatrix}\boldsymbol{A}^\mathrm{T}\boldsymbol{A}\end{pmatrix}^{-1}\boldsymbol{A}^\mathrm{T}\boldsymbol{b}.
\]</div>
<h3 id="83-lk">8.3 实践: LK 光流</h3>
<h4 id="831-lk">8.3.1 使用 LK 光流</h4>
<div class="language-C++ highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="n">vector</span><span class="o">&lt;</span><span class="n">Point2f</span><span class="o">&gt;</span><span class="w"> </span><span class="n">pt1</span><span class="p">,</span><span class="w"> </span><span class="n">pt2</span><span class="p">;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="k">auto</span><span class="w"> </span><span class="o">&amp;</span><span class="n">kp</span><span class="o">:</span><span class="w"> </span><span class="n">kp1</span><span class="p">)</span><span class="w"> </span><span class="n">pt1</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">kp</span><span class="p">.</span><span class="n">pt</span><span class="p">);</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="n">vector</span><span class="o">&lt;</span><span class="n">uchar</span><span class="o">&gt;</span><span class="w"> </span><span class="n">status</span><span class="p">;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="n">vector</span><span class="o">&lt;</span><span class="kt">float</span><span class="o">&gt;</span><span class="w"> </span><span class="n">error</span><span class="p">;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="n">cv</span><span class="o">::</span><span class="n">calcOpticalFlowPyrLK</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span><span class="w"> </span><span class="n">img2</span><span class="p">,</span><span class="w"> </span><span class="n">pt1</span><span class="p">,</span><span class="w"> </span><span class="n">pt2</span><span class="p">,</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="n">error</span><span class="p">);</span>
</span></code></pre></div>
<h4 id="832">8.3.2 用高斯牛顿法实现光流</h4>
<p><strong>单层光流</strong><br />
TODO</p>
<div class="arithmatex">\[
\min_{\Delta x,\Delta y}\left\|\boldsymbol{I}_1\left(x,y\right)-\boldsymbol{I}_2\left(x+\Delta x,y+\Delta y\right)\right\|_2^2.
\]</div>
<p><strong>多层光流</strong>
- 由粗至精（Coarse-to-fine）</p>
<h4 id="833">8.3.3 光流实践小结</h4>
<h3 id="84">8.4 直接法</h3>
<h4 id="841">8.4.1 直接法的推导</h4>
<p><img alt="QQ_1725859950007.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409091332369.png" /></p>
<div class="arithmatex">\[
\boldsymbol{p}_1=\begin{bmatrix}u\\\\v\\\\1\end{bmatrix}_1=\frac{1}{Z_1}\boldsymbol{K}\boldsymbol{P},
\]</div>
<div class="arithmatex">\[
\boldsymbol{p}_{2}=\begin{bmatrix}u\\\\v\\\\1\end{bmatrix}_{2}=\frac{1}{Z_{2}}\boldsymbol{K}\left(\boldsymbol{R}\boldsymbol{P}+\boldsymbol{t}\right)=\frac{1}{Z_{2}}\boldsymbol{K}\left(\boldsymbol{T}\boldsymbol{P}\right)_{1:3}.
\]</div>
<div class="arithmatex">\[
e=\boldsymbol{I}_1\left(\boldsymbol{p}_1\right)-\boldsymbol{I}_2\left(\boldsymbol{p}_2\right).
\]</div>
<div class="arithmatex">\[
\min_{T}J\left(T\right)=\left\|e\right\|^{2}.
\]</div>
<div class="arithmatex">\[
\min_{\boldsymbol{T}}J\left(\boldsymbol{T}\right)=\sum_{i=1}^{N}e_{i}^{\mathrm{T}}e_{i},\quad e_{i}=\boldsymbol{I}_{1}\left(\boldsymbol{p}_{1,i}\right)-\boldsymbol{I}_{2}\left(\boldsymbol{p}_{2,i}\right).
\]</div>
<div class="arithmatex">\[
\begin{aligned}&amp;q=TP,\\&amp;\boldsymbol{u}=\frac{1}{Z_{2}}Kq.\end{aligned}
\]</div>
<div class="arithmatex">\[
e(T)=I_1(p_1)-I_2(u),
\]</div>
<div class="arithmatex">\[
\frac{\partial e}{\partial\boldsymbol{T}}=\frac{\partial\boldsymbol{I}_{2}}{\partial\boldsymbol{u}}\frac{\partial\boldsymbol{u}}{\partial\boldsymbol{q}}\frac{\partial\boldsymbol{q}}{\partial\delta\boldsymbol{\xi}}\delta\boldsymbol{\xi},
\]</div>
<div class="arithmatex">\[
\frac{\partial\boldsymbol{u}}{\partial\boldsymbol{q}}=\begin{bmatrix}\frac{\partial u}{\partial X}&amp;\frac{\partial u}{\partial Y}&amp;\frac{\partial u}{\partial Z}\\\frac{\partial v}{\partial X}&amp;\frac{\partial v}{\partial Y}&amp;\frac{\partial v}{\partial Z}\end{bmatrix}=\begin{bmatrix}\frac{f_x}{Z}&amp;0&amp;-\frac{f_xX}{Z^2}\\0&amp;\frac{f_y}{Z}&amp;-\frac{f_yY}{Z^2}\end{bmatrix}.
\]</div>
<div class="arithmatex">\[
\frac{\partial\boldsymbol{q}}{\partial\delta\boldsymbol{\xi}}=\left[I,-\boldsymbol{q}^{\wedge}\right].
\]</div>
<div class="arithmatex">\[
\frac{\partial\boldsymbol{u}}{\partial\delta\boldsymbol{\xi}}=\begin{bmatrix}\frac{f_x}{Z}&amp;0&amp;-\frac{f_xX}{Z^2}&amp;-\frac{f_xXY}{Z^2}&amp;f_x+\frac{f_xX^2}{Z^2}&amp;-\frac{f_xY}{Z}\\0&amp;\frac{f_y}{Z}&amp;-\frac{f_yY}{Z^2}&amp;-f_y-\frac{f_yY^2}{Z^2}&amp;\frac{f_yXY}{Z^2}&amp;\frac{f_yX}{Z}\end{bmatrix}.
\]</div>
<div class="arithmatex">\[
J=-\frac{\partial I_2}{\partial u}\frac{\partial u}{\partial\delta\xi}.
\]</div>
<h4 id="842">8.4.2 直接法的讨论</h4>
<h3 id="85">8.5 实践: 直接法</h3>
<h4 id="851">8.5.1 单层直接法</h4>
<h4 id="852">8.5.2 多层直接法</h4>
<h4 id="853">8.5.3 结果讨论</h4>
<ul>
<li>Normalized Cross</li>
</ul>
<h4 id="854">8.5.4 直接法优缺点总结</h4>
<h2 id="9-1">9 后端 1</h2>
<h3 id="91">9.1 概述</h3>
<h4 id="911">9.1.1 状态估计的概率解释</h4>
<ul>
<li>只使用过去的信息: 渐进的（Incremental）</li>
<li>使用未来的信息更新: 批量的（Batch）</li>
</ul>
<div class="arithmatex">\[
\begin{cases}\boldsymbol{x}_k=f\left(\boldsymbol{x}_{k-1},\boldsymbol{u}_k\right)+\boldsymbol{w}_k\\\boldsymbol{z}_{k,j}=h\left(\boldsymbol{y}_j,\boldsymbol{x}_k\right)+\boldsymbol{v}_{k,j}\end{cases}\quad k=1,\ldots,N, j=1,\ldots,M.
\]</div>
<ul>
<li>观测方程的数量会远远大于运动方程</li>
<li>当没有运动方程的时候，我们可以假设相机不动，或假设相机匀速运动</li>
<li>问题：当存在一些运动数据和观测数据时，我们如何估计状态量的高斯分布</li>
<li>误差时逐渐累积的</li>
<li>最大似然估计: 批量状态估计问题可以转化为最大似然估计问题，并使用最小二乘法进行求解</li>
</ul>
<div class="arithmatex">\[
x_k\stackrel{\mathrm{def}}{=}\{x_k,y_1,\ldots,y_m\}.
\]</div>
<div class="arithmatex">\[
\begin{cases}\boldsymbol{x}_k=f\left(\boldsymbol{x}_{k-1},\boldsymbol{u}_k\right)+\boldsymbol{w}_k\\\boldsymbol{z}_k=h\left(\boldsymbol{x}_k\right)+\boldsymbol{v}_k\end{cases}\quad k=1,\ldots,N.
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{x}_k|\boldsymbol{x}_0,\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k}\right)\propto P\left(\boldsymbol{z}_k|\boldsymbol{x}_k\right)P\left(\boldsymbol{x}_k|\boldsymbol{x}_0,\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right).
\]</div>
<ul>
<li>第一项称为似然，第二项称为先验</li>
</ul>
<div class="arithmatex">\[
P\left(\boldsymbol{x}_{k}|\boldsymbol{x}_{0},\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right)=\int P\left(\boldsymbol{x}_{k}|\boldsymbol{x}_{k-1},\boldsymbol{x}_{0},\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right)P\left(\boldsymbol{x}_{k-1}|\boldsymbol{x}_{0},\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right)\mathrm{d}\boldsymbol{x}_{k-1}.
\]</div>
<ul>
<li>虽然可以继续对此式进行展开，但我们只关心 <span class="arithmatex">\(\displaystyle k\)</span> 时刻和 <span class="arithmatex">\(\displaystyle k - 1\)</span> 时刻的情况<ul>
<li>第一种方法是假设马尔可夫性: 即认为 <span class="arithmatex">\(\displaystyle k\)</span> 时刻状态只与 <span class="arithmatex">\(\displaystyle k - 1\)</span> 时刻状态有关<ul>
<li>那么我们就可以得到以扩展卡尔曼滤波（EKF）为代表的滤波器方式</li>
</ul>
</li>
<li>第二种方法是依然考虑和之前所有状态的关系，姿势会得到非线性优化为主体的优化框架。</li>
<li>主流是非线性优化</li>
</ul>
</li>
</ul>
<h4 id="912-kf">9.1.2 线性系统和 KF</h4>
<div class="arithmatex">\[
P\left(\boldsymbol{x}_k|\boldsymbol{x}_{k-1},\boldsymbol{x}_0,\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right)=P\left(\boldsymbol{x}_k|\boldsymbol{x}_{k-1},\boldsymbol{u}_k\right).
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{x}_{k-1}|\boldsymbol{x}_0,\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right)=P\left(\boldsymbol{x}_{k-1}|\boldsymbol{x}_0,\boldsymbol{u}_{1:k-1},\boldsymbol{z}_{1:k-1}\right).
\]</div>
<ul>
<li>所以我们实际在做的事如何把 <span class="arithmatex">\(\displaystyle k - 1\)</span> 时刻的状态分布推导至 <span class="arithmatex">\(\displaystyle k\)</span> 时刻<ul>
<li>即我们只要维护一个状态，并不断地迭代更新<ul>
<li>只要维护状态量的均值和协方差（状态量服从高斯分布）</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="arithmatex">\[
\begin{cases}x_k=A_kx_{k-1}+u_k+w_k\\z_k=C_kx_k+v_k\end{cases}\quad k=1,\ldots,N.
\]</div>
<div class="arithmatex">\[
w_k\sim N(0,\boldsymbol{R}).\quad\boldsymbol{v}_k\sim N(\boldsymbol{0},\boldsymbol{Q}).
\]</div>
<ul>
<li>上帽子表示后验，下帽子表示先验</li>
</ul>
<div class="arithmatex">\[
P\left(\boldsymbol{x}_k|\boldsymbol{x}_0,\boldsymbol{u}_{1:k},\boldsymbol{z}_{1:k-1}\right)=N\left(\boldsymbol{A}_k\hat{x}_{k-1}+\boldsymbol{u}_k,\boldsymbol{A}_k\hat{\boldsymbol{P}}_{k-1}\boldsymbol{A}_k^\mathrm{T}+\boldsymbol{R}\right).
\]</div>
<ul>
<li>这一步称为预测（Predict）</li>
</ul>
<div class="arithmatex">\[
\check{\boldsymbol{x}}_k=\boldsymbol{A}_k\hat{\boldsymbol{x}}_{k-1}+\boldsymbol{u}_k,\quad\check{\boldsymbol{P}}_k=A_k\hat{\boldsymbol{P}}_{k-1}\boldsymbol{A}_k^\mathrm{T}+\boldsymbol{R}.
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{z}_k|\boldsymbol{x}_k\right)=N\left(\boldsymbol{C}_k\boldsymbol{x}_k,\boldsymbol{Q}\right).
\]</div>
<ul>
<li>如果结果设为 <span class="arithmatex">\(\displaystyle x_k\sim N(\hat{\boldsymbol{x}}_k,\hat{\boldsymbol{P}}_k)\)</span>，那么</li>
</ul>
<div class="arithmatex">\[
N(\hat{\boldsymbol{x}}_k,\hat{\boldsymbol{P}}_k)=\eta N\left(\boldsymbol{C}_k\boldsymbol{x}_k,\boldsymbol{Q}\right)\cdot N(\check{\boldsymbol{x}}_k,\check{\boldsymbol{P}}_k).
\]</div>
<div class="arithmatex">\[
(\boldsymbol{x}_{k}-\hat{\boldsymbol{x}}_{k})^{\mathrm{T}}\hat{\boldsymbol{P}}_{k}^{-1}\left(\boldsymbol{x}_{k}-\hat{\boldsymbol{x}}_{k}\right)=\left(\boldsymbol{z}_{k}-\boldsymbol{C}_{k}\boldsymbol{x}_{k}\right)^{\mathrm{T}}\boldsymbol{Q}^{-1}\left(\boldsymbol{z}_{k}-\boldsymbol{C}_{k}\boldsymbol{x}_{k}\right)+\left(\boldsymbol{x}_{k}-\check{\boldsymbol{x}}_{k}\right)^{\mathrm{T}}\boldsymbol{P}_{k}^{-1}\left(\boldsymbol{x}_{k}-\check{\boldsymbol{x}}_{k}\right).
\]</div>
<ul>
<li>二次系数</li>
</ul>
<div class="arithmatex">\[
\hat{P}_k^{-1}=C_k^{\mathrm{T}}Q^{-1}C_k+\check{P}_k^{-1}.
\]</div>
<ul>
<li>定义一个中间变量</li>
</ul>
<div class="arithmatex">\[
K=\hat{P}_kC_k^{\mathrm{T}}Q^{-1}.
\]</div>
<div class="arithmatex">\[
I=\hat{P}_{k}C_{k}^{\mathrm{T}}Q^{-1}C_{k}+\hat{P}_{k}\check{P}_{k}^{-1}=KC_{k}+\hat{P}_{k}\check{P}_{k}^{-1}.
\]</div>
<div class="arithmatex">\[
\hat{P}_{k}=(I-KC_{k})\check{P}_{k}.
\]</div>
<ul>
<li>一次项系数</li>
</ul>
<div class="arithmatex">\[
-2\hat{\boldsymbol{x}}_k^\mathrm{T}\hat{\boldsymbol{P}}_k^{-1}\boldsymbol{x}_k=-2\boldsymbol{z}_k^\mathrm{T}\boldsymbol{Q}^{-1}\boldsymbol{C}_k\boldsymbol{x}_k-2\boldsymbol{\dot{x}}_k^\mathrm{T}\check{\boldsymbol{P}}_k^{-1}\boldsymbol{x}_k.
\]</div>
<div class="arithmatex">\[
\hat{\boldsymbol{P}}_k^{-1}\hat{\boldsymbol{x}}_k=\boldsymbol{C}_k^\mathrm{T}\boldsymbol{Q}^{-1}\boldsymbol{z}_k+\check{\boldsymbol{P}}_k^{-1}\check{\boldsymbol{x}}_k.
\]</div>
<div class="arithmatex">\[
\begin{aligned}
\hat{x}_{k}&amp; =\hat{\boldsymbol{P}}_k\boldsymbol{C}_k^\mathrm{T}\boldsymbol{Q}^{-1}\boldsymbol{z}_k+\hat{\boldsymbol{P}}_k\check{\boldsymbol{P}}_k^{-1}\check{\boldsymbol{x}}_k \\
&amp;=K\boldsymbol{z}_k+\left(\boldsymbol{I}-\boldsymbol{K}\boldsymbol{C}_k\right)\check{\boldsymbol{x}}_k=\check{\boldsymbol{x}}_k+\boldsymbol{K}\left(\boldsymbol{z}_k-\boldsymbol{C}_k\check{\boldsymbol{x}}_k\right).
\end{aligned}
\]</div>
<p><img alt="QQ_1725871447753.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409091644803.png" /></p>
<h4 id="913-ekf">9.1.3 非线性系统和 EKF</h4>
<ul>
<li>扩展卡尔曼滤波器<ul>
<li>即把非高斯分布近似成高斯分布</li>
</ul>
</li>
</ul>
<div class="arithmatex">\[
\boldsymbol{x}_k\approx f\left(\hat{\boldsymbol{x}}_{k-1},\boldsymbol{u}_k\right)+\left.\frac{\partial f}{\partial\boldsymbol{x}_{k-1}}\right|_{\tilde{\boldsymbol{x}}_{k-1}}\left(\boldsymbol{x}_{k-1}-\hat{\boldsymbol{x}}_{k-1}\right)+\boldsymbol{w}_k.
\]</div>
<div class="arithmatex">\[
\boldsymbol{F}=\left.\frac{\partial f}{\partial\boldsymbol{x}_{k-1}}\right|_{\hat{\boldsymbol{x}}_{k-1}}.
\]</div>
<div class="arithmatex">\[
z_k\approx h\left(\check{\boldsymbol{x}}_k\right)+\left.\frac{\partial h}{\partial\boldsymbol{x}_k}\right|_{\dot{\boldsymbol{x}}_k}\left(\boldsymbol{x}_k-\check{\boldsymbol{x}}_k\right)+\boldsymbol{n}_k.
\]</div>
<div class="arithmatex">\[
H=\left.\frac{\partial h}{\partial\boldsymbol{x}_k}\right|_{\check{\boldsymbol{x}}_k}.
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{x}_k|\boldsymbol{x}_0,\boldsymbol{u}_{1:k},\boldsymbol{z}_{0:k-1}\right)=N(f\left(\hat{\boldsymbol{x}}_{k-1},\boldsymbol{u}_k\right),\boldsymbol{F}\hat{\boldsymbol{P}}_{k-1}\boldsymbol{F}^\mathrm{T}+\boldsymbol{R}_k).
\]</div>
<div class="arithmatex">\[
\check{\boldsymbol{x}}_k=f\left(\hat{\boldsymbol{x}}_{k-1},\boldsymbol{u}_k\right),\quad\check{\boldsymbol{P}}_k=\boldsymbol{F}\hat{\boldsymbol{P}}_{k-1}\boldsymbol{F}^\mathrm{T}+\boldsymbol{R}_k.
\]</div>
<div class="arithmatex">\[
P\left(\boldsymbol{z}_k|\boldsymbol{x}_k\right)=N(h\left(\check{\boldsymbol{x}}_k\right)+\boldsymbol{H}\left(\boldsymbol{x}_k-\check{\boldsymbol{x}}_k\right),Q_k).
\]</div>
<ul>
<li>定义一个卡尔曼增益 <span class="arithmatex">\(\displaystyle \boldsymbol{K}_{k}\)</span></li>
</ul>
<div class="arithmatex">\[
K_{k}=\check{P}_{k}H^{\mathrm{T}}(H\check{P}_{k}H^{\mathrm{T}}+Q_{k})^{-1}.
\]</div>
<div class="arithmatex">\[
\hat{\boldsymbol{x}}_k=\check{\boldsymbol{x}}_k+\boldsymbol{K}_k\left(\boldsymbol{z}_k-h\left(\check{\boldsymbol{x}}_k\right)\right),\hat{\boldsymbol{P}}_k=\left(\boldsymbol{I}-\boldsymbol{K}_k\boldsymbol{H}\right)\check{\boldsymbol{P}}_k.
\]</div>
<h4 id="914-ekf">9.1.4 EKF 的讨论</h4>
<ul>
<li>局限<ul>
<li>假设了马尔可夫性，但是非线性优化是全体时间上的 SLAM (Full-SLAM)</li>
<li>有非线性误差（主要问题所在）</li>
<li>如果把路标也放进状态，存不下</li>
<li>没有异常检测机制</li>
</ul>
</li>
</ul>
<h3 id="92-ba">9.2 BA 与图优化</h3>
<ul>
<li>Bundle Adjustment<ul>
<li>从视觉图像中提炼出最有的 3 D 模型和相机参数，让光线最终收束到相机的光心</li>
</ul>
</li>
</ul>
<h4 id="921-ba">9.2.1 投影模型和 BA 代价函数</h4>
<div class="arithmatex">\[
P^{\prime}=Rp+t=[X^{\prime},Y^{\prime},Z^{\prime}]^\mathrm{T}.
\]</div>
<div class="arithmatex">\[
\boldsymbol{P}_{\mathrm{c}}=[u_{\mathrm{c}},v_{\mathrm{c}},1]^{\mathrm{T}}=[X^{\prime}/Z^{\prime},Y^{\prime}/Z^{\prime},1]^{\mathrm{T}}.
\]</div>
<div class="arithmatex">\[
\begin{cases}u_\mathrm{c}'=u_\mathrm{c}\left(1+k_1r_\mathrm{c}^2+k_2r_\mathrm{c}^4\right)\\v_\mathrm{c}'=v_\mathrm{c}\left(1+k_1r_\mathrm{c}^2+k_2r_\mathrm{c}^4\right)\end{cases}.
\]</div>
<div class="arithmatex">\[
\begin{cases}u_s=f_xu_\mathrm{c}'+c_x\\[2ex]v_s=f_yv_\mathrm{c}'+c_y\end{cases}.
\]</div>
<div class="arithmatex">\[
z=h(\boldsymbol{x},\boldsymbol{y}).
\]</div>
<p><img alt="QQ_1725872841730.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409091707361.png" /></p>
<div class="arithmatex">\[
e=z-h(\boldsymbol{T},\boldsymbol{p}).
\]</div>
<div class="arithmatex">\[
z\overset{\mathrm{def}}{\operatorname*{=}}[u_s,v_s]^\mathrm{T}
\]</div>
<div class="arithmatex">\[
\frac12\sum_{i=1}^m\sum_{j=1}^n\|e_{ij}\|^2=\frac12\sum_{i=1}^m\sum_{j=1}^n\|z_{ij}-h(\boldsymbol{T}_i,\boldsymbol{p}_j)\|^2.
\]</div>
<h4 id="922-ba">9.2.2 BA 的求解</h4>
<div class="arithmatex">\[
x=[T_1,\ldots,T_m,p_1,\ldots,p_n]^\mathrm{T}.
\]</div>
<div class="arithmatex">\[
\frac12\left\|f(\boldsymbol{x}+\Delta\boldsymbol{x})\right\|^2\approx\frac12\sum_{i=1}^m\sum_{j=1}^n\left\|\boldsymbol{e}_{ij}+\boldsymbol{F}_{ij}\Delta\boldsymbol{\xi}_i+\boldsymbol{E}_{ij}\Delta\boldsymbol{p}_j\right\|^2.
\]</div>
<div class="arithmatex">\[
x_{\mathfrak{c}}=[\boldsymbol{\xi}_1,\boldsymbol{\xi}_2,\ldots,\boldsymbol{\xi}_m]^{\mathrm{T}}\in\mathbb{R}^{6m}
\]</div>
<div class="arithmatex">\[
\boldsymbol{x}_p=[\boldsymbol{p}_1,\boldsymbol{p}_2,\ldots,\boldsymbol{p}_n]^\mathrm{T}\in\mathbb{R}^{3n}
\]</div>
<div class="arithmatex">\[
\frac12\left\|f(\boldsymbol{x}+\Delta\boldsymbol{x})\right\|^2=\frac12\left\|\boldsymbol{e}+\boldsymbol{F}\Delta\boldsymbol{x}_c+\boldsymbol{E}\Delta\boldsymbol{x}_p\right\|^2.
\]</div>
<div class="arithmatex">\[
\boldsymbol{J}=[\boldsymbol{F}\boldsymbol{E}].
\]</div>
<div class="arithmatex">\[
H=J^\mathrm{T}J=\begin{bmatrix}F^\mathrm{T}F&amp;F^\mathrm{T}E\\E^\mathrm{T}F&amp;E^\mathrm{T}E\end{bmatrix}.
\]</div>
<h4 id="923">9.2.3 稀疏性和边缘化</h4>
<div class="arithmatex">\[
J_{ij}(x)=\left(\mathbf{0}_{2\times6},\ldots\mathbf{0}_{2\times6},\frac{\partial\boldsymbol{e}_{ij}}{\partial\boldsymbol{T}_{i}},\mathbf{0}_{2\times6},\ldots\mathbf{0}_{2\times3},\ldots\mathbf{0}_{2\times3},\frac{\partial\boldsymbol{e}_{ij}}{\partial\boldsymbol{p}_{j}},\mathbf{0}_{2\times3},\ldots\mathbf{0}_{2\times3}\right).
\]</div>
<div class="arithmatex">\[
H=\sum_{i,j}J_{ij}^{\top}J_{ij},
\]</div>
<div class="arithmatex">\[
H=\begin{bmatrix}H_{11}&amp;H_{12}\\\\H_{21}&amp;H_{22}\end{bmatrix}.
\]</div>
<p><img alt="QQ_1725873562244.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409091719496.png" /><br />
<img alt="QQ_1725874123833.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409091728991.png" /></p>
<ul>
<li>对于稀疏矩阵，我们用 Schur 消元（Marginalization）</li>
</ul>
<div class="arithmatex">\[
\begin{bmatrix}B&amp;E\\E^\mathrm{T}&amp;C\end{bmatrix}\begin{bmatrix}\Delta x_\mathrm{c}\\\Delta x_p\end{bmatrix}=\begin{bmatrix}v\\w\end{bmatrix}.
\]</div>
<div class="arithmatex">\[
\begin{bmatrix}I&amp;-EC^{-1}\\0&amp;I\end{bmatrix}\begin{bmatrix}B&amp;E\\E^{\intercal}&amp;C\end{bmatrix}\begin{bmatrix}\Delta x_\mathrm{c}\\\Delta x_p\end{bmatrix}=\begin{bmatrix}I&amp;-EC^{-1}\\0&amp;I\end{bmatrix}\begin{bmatrix}v\\w\end{bmatrix}.
\]</div>
<div class="arithmatex">\[
\begin{bmatrix}B-EC^{-1}E^\mathrm{T}&amp;0\\E^\mathrm{T}&amp;C\end{bmatrix}\begin{bmatrix}\Delta x_\mathrm{c}\\\Delta x_p\end{bmatrix}=\begin{bmatrix}v-EC^{-1}w\\\\w\end{bmatrix}.
\]</div>
<div class="arithmatex">\[
\begin{bmatrix}B-EC^{-1}E^\mathrm{T}\end{bmatrix}\Delta x_\mathrm{c}=v-EC^{-1}w.
\]</div>
<ul>
<li>优势<ul>
<li><span class="arithmatex">\(\displaystyle \boldsymbol{C}\)</span> 为对角块，逆比较容易解出</li>
</ul>
</li>
<li>非对角线上的非零矩阵块表示对应的两个相机变量之间存在共同观测的路标点，即共视（Co-visibility）</li>
</ul>
<h4 id="924">9.2.4 鲁棒核函数</h4>
<ul>
<li>Robust Kernel</li>
</ul>
<div class="arithmatex">\[
H(e)=\begin{cases}\frac{1}{2}e^2&amp;\text{当}|e|\leqslant\delta,\\\\\delta\left(|e|-\frac{1}{2}\delta\right)&amp;\text{其他}\end{cases}
\]</div>
<p><img alt="QQ_1725898890681.png" src="https://cdn.jsdelivr.net/gh/WncFht/picture/202409100021134.png" /></p>
<h3 id="93-ceres-ba">9.3 实践: Ceres BA</h3>
<h4 id="931-bal">9.3.1 BAL 数据集</h4>
<h4 id="932-ceres-ba">9.3.2 Ceres BA 的书写</h4>
<h3 id="94-g-2-o-ba">9.4 实践: g 2 o 求解 BA</h3>
<h3 id="95">9.5 小结</h3>
<h2 id="10-2">10 后端 2</h2>
<h2 id="11_1">11 回环检测</h2>
<h2 id="12_1">12 建图</h2>
<h2 id="13-slam">13 实践: 设计 SLAM 系统</h2>
<h2 id="14-slam">14 SLAM: 现在与未来</h2>

                

  


              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
    
      <div class="md-copyright__highlight">
        Copyright © 2025 [mathcourse-share]
      </div>
    
    
      Powered by
      <a href="https://www.mkdocs.org/" target="_blank" rel="noopener">
        MkDocs
      </a>
      with theme
      <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
        Material
      </a>
      modified by
      <a href="https://github.com/mathcourse-share.github.io" target="_blank" rel="noopener">
        KeRan
      </a>
    
</div>

    
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            



<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better. extra:</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
    
      
    
    
      
        
  
  
    
    
  
  <li class="task-list-item">
    <label class="task-list-control">
      <input type="checkbox" name="github" checked>
      <span class="task-list-indicator"></span>
      GitHub
    </label>
  </li>

      
    
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">同意</button>
    
    
    
  
    
    
      <button type="reset" class="md-button md-button--primary">拒绝</button>
    
    
  
    
    
    
      <label class="md-button" for="__settings">管理设定</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script>
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.footnote.tooltips", "content.tabs.link", "content.tooltips", "navigation.instant"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.50899def.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js"></script>
      
        <script src="../javascripts/tablesort.js"></script>
      
        <script src="../javascripts/consent.js"></script>
      
    
  </body>
</html>